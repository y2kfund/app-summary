var Lo=t=>{throw TypeError(t)};var zr=(t,e,s)=>e.has(t)||Lo("Cannot "+s);var v=(t,e,s)=>(zr(t,e,"read from private field"),s?s.call(t):e.get(t)),H=(t,e,s)=>e.has(t)?Lo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),D=(t,e,s,n)=>(zr(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),Z=(t,e,s)=>(zr(t,e,"access private method"),s);var ir=(t,e,s,n)=>({set _(r){D(t,e,r,s)},get _(){return v(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ro(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const pe={},Ks=[],Tt=()=>{},gl=()=>!1,Rr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),io=t=>t.startsWith("onUpdate:"),Re=Object.assign,oo=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},wu=Object.prototype.hasOwnProperty,ie=(t,e)=>wu.call(t,e),Q=Array.isArray,Qs=t=>xr(t)==="[object Map]",vl=t=>xr(t)==="[object Set]",z=t=>typeof t=="function",we=t=>typeof t=="string",ls=t=>typeof t=="symbol",ge=t=>t!==null&&typeof t=="object",ml=t=>(ge(t)||z(t))&&z(t.then)&&z(t.catch),yl=Object.prototype.toString,xr=t=>yl.call(t),bu=t=>xr(t).slice(8,-1),_l=t=>xr(t)==="[object Object]",ao=t=>we(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,On=ro(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Su=/-\w/g,tt=jr(t=>t.replace(Su,e=>e.slice(1).toUpperCase())),Eu=/\B([A-Z])/g,Rs=jr(t=>t.replace(Eu,"-$1").toLowerCase()),Ir=jr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Jr=jr(t=>t?`on${Ir(t)}`:""),rs=(t,e)=>!Object.is(t,e),Yr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},wl=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Tu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Fo;const $r=()=>Fo||(Fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function lo(t){if(Q(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=we(n)?Pu(n):lo(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(we(t)||ge(t))return t}const Ou=/;(?![^(]*\))/g,ku=/:([^]+)/,Cu=/\/\*[^]*?\*\//g;function Pu(t){const e={};return t.replace(Cu,"").split(Ou).forEach(s=>{if(s){const n=s.split(ku);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Mr(t){let e="";if(we(t))e=t;else if(Q(t))for(let s=0;s<t.length;s++){const n=Mr(t[s]);n&&(e+=n+" ")}else if(ge(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Au="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ru=ro(Au);function bl(t){return!!t||t===""}const Sl=t=>!!(t&&t.__v_isRef===!0),ye=t=>we(t)?t:t==null?"":Q(t)||ge(t)&&(t.toString===yl||!z(t.toString))?Sl(t)?ye(t.value):JSON.stringify(t,El,2):String(t),El=(t,e)=>Sl(e)?El(t,e.value):Qs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[Xr(n,i)+" =>"]=r,s),{})}:vl(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Xr(s))}:ls(e)?Xr(e):ge(e)&&!Q(e)&&!_l(e)?String(e):e,Xr=(t,e="")=>{var s;return ls(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ke;class xu{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!e&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=ke;try{return ke=this,e()}finally{ke=s}}}on(){++this._on===1&&(this.prevScope=ke,ke=this)}off(){this._on>0&&--this._on===0&&(ke=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function ju(){return ke}function Iu(t,e=!1){ke&&ke.cleanups.push(t)}let fe;const Zr=new WeakSet;class Tl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zr.has(this)&&(Zr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||kl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,No(this),Cl(this);const e=fe,s=at;fe=this,at=!0;try{return this.fn()}finally{Pl(this),fe=e,at=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ho(e);this.deps=this.depsTail=void 0,No(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_i(this)&&this.run()}get dirty(){return _i(this)}}let Ol=0,kn,Cn;function kl(t,e=!1){if(t.flags|=8,e){t.next=Cn,Cn=t;return}t.next=kn,kn=t}function co(){Ol++}function uo(){if(--Ol>0)return;if(Cn){let e=Cn;for(Cn=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;kn;){let e=kn;for(kn=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Cl(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Pl(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),ho(n),$u(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function _i(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Al(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Al(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Un)||(t.globalVersion=Un,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!_i(t))))return;t.flags|=2;const e=t.dep,s=fe,n=at;fe=t,at=!0;try{Cl(t);const r=t.fn(t._value);(e.version===0||rs(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{fe=s,at=n,Pl(t),t.flags&=-3}}function ho(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ho(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function $u(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let at=!0;const Rl=[];function Dt(){Rl.push(at),at=!1}function Ut(){const t=Rl.pop();at=t===void 0?!0:t}function No(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=fe;fe=void 0;try{e()}finally{fe=s}}}let Un=0;class Mu{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!fe||!at||fe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==fe)s=this.activeLink=new Mu(fe,this),fe.deps?(s.prevDep=fe.depsTail,fe.depsTail.nextDep=s,fe.depsTail=s):fe.deps=fe.depsTail=s,xl(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=fe.depsTail,s.nextDep=void 0,fe.depsTail.nextDep=s,fe.depsTail=s,fe.deps===s&&(fe.deps=n)}return s}trigger(e){this.version++,Un++,this.notify(e)}notify(e){co();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{uo()}}}function xl(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)xl(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const vr=new WeakMap,Cs=Symbol(""),wi=Symbol(""),Ln=Symbol("");function Ce(t,e,s){if(at&&fe){let n=vr.get(t);n||vr.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new fo),r.map=n,r.key=s),r.track()}}function Mt(t,e,s,n,r,i){const o=vr.get(t);if(!o){Un++;return}const a=l=>{l&&l.trigger()};if(co(),e==="clear")o.forEach(a);else{const l=Q(t),u=l&&ao(s);if(l&&s==="length"){const c=Number(n);o.forEach((h,d)=>{(d==="length"||d===Ln||!ls(d)&&d>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Ln)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Cs)),Qs(t)&&a(o.get(wi)));break;case"delete":l||(a(o.get(Cs)),Qs(t)&&a(o.get(wi)));break;case"set":Qs(t)&&a(o.get(Cs));break}}uo()}function Du(t,e){const s=vr.get(t);return s&&s.get(e)}function Ms(t){const e=se(t);return e===t?e:(Ce(e,"iterate",Ln),et(t)?e:e.map(Oe))}function Dr(t){return Ce(t=se(t),"iterate",Ln),t}const Uu={__proto__:null,[Symbol.iterator](){return ei(this,Symbol.iterator,Oe)},concat(...t){return Ms(this).concat(...t.map(e=>Q(e)?Ms(e):e))},entries(){return ei(this,"entries",t=>(t[1]=Oe(t[1]),t))},every(t,e){return Ct(this,"every",t,e,void 0,arguments)},filter(t,e){return Ct(this,"filter",t,e,s=>s.map(Oe),arguments)},find(t,e){return Ct(this,"find",t,e,Oe,arguments)},findIndex(t,e){return Ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ct(this,"findLast",t,e,Oe,arguments)},findLastIndex(t,e){return Ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return ti(this,"includes",t)},indexOf(...t){return ti(this,"indexOf",t)},join(t){return Ms(this).join(t)},lastIndexOf(...t){return ti(this,"lastIndexOf",t)},map(t,e){return Ct(this,"map",t,e,void 0,arguments)},pop(){return mn(this,"pop")},push(...t){return mn(this,"push",t)},reduce(t,...e){return Bo(this,"reduce",t,e)},reduceRight(t,...e){return Bo(this,"reduceRight",t,e)},shift(){return mn(this,"shift")},some(t,e){return Ct(this,"some",t,e,void 0,arguments)},splice(...t){return mn(this,"splice",t)},toReversed(){return Ms(this).toReversed()},toSorted(t){return Ms(this).toSorted(t)},toSpliced(...t){return Ms(this).toSpliced(...t)},unshift(...t){return mn(this,"unshift",t)},values(){return ei(this,"values",Oe)}};function ei(t,e,s){const n=Dr(t),r=n[e]();return n!==t&&!et(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=s(i.value)),i}),r}const Lu=Array.prototype;function Ct(t,e,s,n,r,i){const o=Dr(t),a=o!==t&&!et(t),l=o[e];if(l!==Lu[e]){const h=l.apply(t,i);return a?Oe(h):h}let u=s;o!==t&&(a?u=function(h,d){return s.call(this,Oe(h),d,t)}:s.length>2&&(u=function(h,d){return s.call(this,h,d,t)}));const c=l.call(o,u,n);return a&&r?r(c):c}function Bo(t,e,s,n){const r=Dr(t);let i=s;return r!==t&&(et(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Oe(a),l,t)}),r[e](i,...n)}function ti(t,e,s){const n=se(t);Ce(n,"iterate",Ln);const r=n[e](...s);return(r===-1||r===!1)&&go(s[0])?(s[0]=se(s[0]),n[e](...s)):r}function mn(t,e,s=[]){Dt(),co();const n=se(t)[e].apply(t,s);return uo(),Ut(),n}const Fu=ro("__proto__,__v_isRef,__isVue"),jl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ls));function Nu(t){ls(t)||(t=String(t));const e=se(this);return Ce(e,"has",t),e.hasOwnProperty(t)}class Il{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Fl:Ll:i?Ul:Dl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Q(e);if(!r){let l;if(o&&(l=Uu[s]))return l;if(s==="hasOwnProperty")return Nu}const a=Reflect.get(e,s,Se(e)?e:n);if((ls(s)?jl.has(s):Fu(s))||(r||Ce(e,"get",s),i))return a;if(Se(a)){const l=o&&ao(s)?a:a.value;return r&&ge(l)?mr(l):l}return ge(a)?r?mr(a):dn(a):a}}class $l extends Il{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=os(i);if(!et(n)&&!os(n)&&(i=se(i),n=se(n)),!Q(e)&&Se(i)&&!Se(n))return l||(i.value=n),!0}const o=Q(e)&&ao(s)?Number(s)<e.length:ie(e,s),a=Reflect.set(e,s,n,Se(e)?e:r);return e===se(r)&&(o?rs(n,i)&&Mt(e,"set",s,n):Mt(e,"add",s,n)),a}deleteProperty(e,s){const n=ie(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&Mt(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!ls(s)||!jl.has(s))&&Ce(e,"has",s),n}ownKeys(e){return Ce(e,"iterate",Q(e)?"length":Cs),Reflect.ownKeys(e)}}class Ml extends Il{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Bu=new $l,qu=new Ml,Hu=new $l(!0),Wu=new Ml(!0),bi=t=>t,or=t=>Reflect.getPrototypeOf(t);function Ku(t,e,s){return function(...n){const r=this.__v_raw,i=se(r),o=Qs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...n),c=s?bi:e?yr:Oe;return!e&&Ce(i,"iterate",l?wi:Cs),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function ar(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Qu(t,e){const s={get(r){const i=this.__v_raw,o=se(i),a=se(r);t||(rs(r,a)&&Ce(o,"get",r),Ce(o,"get",a));const{has:l}=or(o),u=e?bi:t?yr:Oe;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Ce(se(r),"iterate",Cs),r.size},has(r){const i=this.__v_raw,o=se(i),a=se(r);return t||(rs(r,a)&&Ce(o,"has",r),Ce(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=se(a),u=e?bi:t?yr:Oe;return!t&&Ce(l,"iterate",Cs),a.forEach((c,h)=>r.call(i,u(c),u(h),o))}};return Re(s,t?{add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear")}:{add(r){!e&&!et(r)&&!os(r)&&(r=se(r));const i=se(this);return or(i).has.call(i,r)||(i.add(r),Mt(i,"add",r,r)),this},set(r,i){!e&&!et(i)&&!os(i)&&(i=se(i));const o=se(this),{has:a,get:l}=or(o);let u=a.call(o,r);u||(r=se(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?rs(i,c)&&Mt(o,"set",r,i):Mt(o,"add",r,i),this},delete(r){const i=se(this),{has:o,get:a}=or(i);let l=o.call(i,r);l||(r=se(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&Mt(i,"delete",r,void 0),u},clear(){const r=se(this),i=r.size!==0,o=r.clear();return i&&Mt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Ku(r,t,e)}),s}function Ur(t,e){const s=Qu(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(ie(s,r)&&r in n?s:n,r,i)}const Vu={get:Ur(!1,!1)},Gu={get:Ur(!1,!0)},zu={get:Ur(!0,!1)},Ju={get:Ur(!0,!0)},Dl=new WeakMap,Ul=new WeakMap,Ll=new WeakMap,Fl=new WeakMap;function Yu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xu(t){return t.__v_skip||!Object.isExtensible(t)?0:Yu(bu(t))}function dn(t){return os(t)?t:Lr(t,!1,Bu,Vu,Dl)}function po(t){return Lr(t,!1,Hu,Gu,Ul)}function mr(t){return Lr(t,!0,qu,zu,Ll)}function Zu(t){return Lr(t,!0,Wu,Ju,Fl)}function Lr(t,e,s,n,r){if(!ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Xu(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?n:s);return r.set(t,a),a}function Vs(t){return os(t)?Vs(t.__v_raw):!!(t&&t.__v_isReactive)}function os(t){return!!(t&&t.__v_isReadonly)}function et(t){return!!(t&&t.__v_isShallow)}function go(t){return t?!!t.__v_raw:!1}function se(t){const e=t&&t.__v_raw;return e?se(e):t}function eh(t){return!ie(t,"__v_skip")&&Object.isExtensible(t)&&wl(t,"__v_skip",!0),t}const Oe=t=>ge(t)?dn(t):t,yr=t=>ge(t)?mr(t):t;function Se(t){return t?t.__v_isRef===!0:!1}function Nl(t){return Bl(t,!1)}function th(t){return Bl(t,!0)}function Bl(t,e){return Se(t)?t:new sh(t,e)}class sh{constructor(e,s){this.dep=new fo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:se(e),this._value=s?e:Oe(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||et(e)||os(e);e=n?e:se(e),rs(e,s)&&(this._rawValue=e,this._value=n?e:Oe(e),this.dep.trigger())}}function Ze(t){return Se(t)?t.value:t}const nh={get:(t,e,s)=>e==="__v_raw"?t:Ze(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return Se(r)&&!Se(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function ql(t){return Vs(t)?t:new Proxy(t,nh)}function rh(t){const e=Q(t)?new Array(t.length):{};for(const s in t)e[s]=oh(t,s);return e}class ih{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Du(se(this._object),this._key)}}function oh(t,e,s){const n=t[e];return Se(n)?n:new ih(t,e,s)}class ah{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new fo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Un-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&fe!==this)return kl(this,!0),!0}get value(){const e=this.dep.track();return Al(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function lh(t,e,s=!1){let n,r;return z(t)?n=t:(n=t.get,r=t.set),new ah(n,r,s)}const lr={},_r=new WeakMap;let ps;function ch(t,e=!1,s=ps){if(s){let n=_r.get(s);n||_r.set(s,n=[]),n.push(t)}}function uh(t,e,s=pe){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=b=>r?b:et(b)||r===!1||r===0?Vt(b,1):Vt(b);let c,h,d,f,y=!1,_=!1;if(Se(t)?(h=()=>t.value,y=et(t)):Vs(t)?(h=()=>u(t),y=!0):Q(t)?(_=!0,y=t.some(b=>Vs(b)||et(b)),h=()=>t.map(b=>{if(Se(b))return b.value;if(Vs(b))return u(b);if(z(b))return l?l(b,2):b()})):z(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Dt();try{d()}finally{Ut()}}const b=ps;ps=c;try{return l?l(t,3,[f]):t(f)}finally{ps=b}}:h=Tt,e&&r){const b=h,L=r===!0?1/0:r;h=()=>Vt(b(),L)}const E=ju(),T=()=>{c.stop(),E&&E.active&&oo(E.effects,c)};if(i&&e){const b=e;e=(...L)=>{b(...L),T()}}let S=_?new Array(t.length).fill(lr):lr;const w=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(e){const L=c.run();if(r||y||(_?L.some((F,B)=>rs(F,S[B])):rs(L,S))){d&&d();const F=ps;ps=c;try{const B=[L,S===lr?void 0:_&&S[0]===lr?[]:S,f];S=L,l?l(e,3,B):e(...B)}finally{ps=F}}}else c.run()};return a&&a(w),c=new Tl(h),c.scheduler=o?()=>o(w,!1):w,f=b=>ch(b,!1,c),d=c.onStop=()=>{const b=_r.get(c);if(b){if(l)l(b,4);else for(const L of b)L();_r.delete(c)}},e?n?w(!0):S=c.run():o?o(w.bind(null,!0),!0):c.run(),T.pause=c.pause.bind(c),T.resume=c.resume.bind(c),T.stop=T,T}function Vt(t,e=1/0,s){if(e<=0||!ge(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Se(t))Vt(t.value,e,s);else if(Q(t))for(let n=0;n<t.length;n++)Vt(t[n],e,s);else if(vl(t)||Qs(t))t.forEach(n=>{Vt(n,e,s)});else if(_l(t)){for(const n in t)Vt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Vt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xn(t,e,s,n){try{return n?t(...n):t()}catch(r){Fr(r,e,s)}}function Ot(t,e,s,n){if(z(t)){const r=Xn(t,e,s,n);return r&&ml(r)&&r.catch(i=>{Fr(i,e,s)}),r}if(Q(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Ot(t[i],e,s,n));return r}}function Fr(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||pe;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Dt(),Xn(i,null,10,[t,l,u]),Ut();return}}hh(t,s,r,n,o)}function hh(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const Me=[];let vt=-1;const Gs=[];let Wt=null,Bs=0;const Hl=Promise.resolve();let wr=null;function vo(t){const e=wr||Hl;return t?e.then(this?t.bind(this):t):e}function dh(t){let e=vt+1,s=Me.length;for(;e<s;){const n=e+s>>>1,r=Me[n],i=Fn(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function mo(t){if(!(t.flags&1)){const e=Fn(t),s=Me[Me.length-1];!s||!(t.flags&2)&&e>=Fn(s)?Me.push(t):Me.splice(dh(e),0,t),t.flags|=1,Wl()}}function Wl(){wr||(wr=Hl.then(Ql))}function fh(t){Q(t)?Gs.push(...t):Wt&&t.id===-1?Wt.splice(Bs+1,0,t):t.flags&1||(Gs.push(t),t.flags|=1),Wl()}function qo(t,e,s=vt+1){for(;s<Me.length;s++){const n=Me[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Me.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Kl(t){if(Gs.length){const e=[...new Set(Gs)].sort((s,n)=>Fn(s)-Fn(n));if(Gs.length=0,Wt){Wt.push(...e);return}for(Wt=e,Bs=0;Bs<Wt.length;Bs++){const s=Wt[Bs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Wt=null,Bs=0}}const Fn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ql(t){try{for(vt=0;vt<Me.length;vt++){const e=Me[vt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Xn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;vt<Me.length;vt++){const e=Me[vt];e&&(e.flags&=-2)}vt=-1,Me.length=0,Kl(),wr=null,(Me.length||Gs.length)&&Ql()}}let ot=null,Vl=null;function br(t){const e=ot;return ot=t,Vl=t&&t.type.__scopeId||null,e}function ph(t,e=ot,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Tr(-1);const i=br(e);let o;try{o=t(...r)}finally{br(i),n._d&&Tr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function us(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Dt(),Ot(l,s,8,[t.el,a,t,e]),Ut())}}const gh=Symbol("_vte"),vh=t=>t.__isTeleport,mh=Symbol("_leaveCb");function yo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,yo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _o(t,e){return z(t)?Re({name:t.name},e,{setup:t}):t}function Gl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Sr=new WeakMap;function Pn(t,e,s,n,r=!1){if(Q(t)){t.forEach((y,_)=>Pn(y,e&&(Q(e)?e[_]:e),s,n,r));return}if(An(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Pn(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?Eo(n.component):n.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===pe?a.refs={}:a.refs,h=a.setupState,d=se(h),f=h===pe?gl:y=>ie(d,y);if(u!=null&&u!==l){if(Ho(e),we(u))c[u]=null,f(u)&&(h[u]=null);else if(Se(u)){u.value=null;const y=e;y.k&&(c[y.k]=null)}}if(z(l))Xn(l,a,12,[o,c]);else{const y=we(l),_=Se(l);if(y||_){const E=()=>{if(t.f){const T=y?f(l)?h[l]:c[l]:l.value;if(r)Q(T)&&oo(T,i);else if(Q(T))T.includes(i)||T.push(i);else if(y)c[l]=[i],f(l)&&(h[l]=c[l]);else{const S=[i];l.value=S,t.k&&(c[t.k]=S)}}else y?(c[l]=o,f(l)&&(h[l]=o)):_&&(l.value=o,t.k&&(c[t.k]=o))};if(o){const T=()=>{E(),Sr.delete(t)};T.id=-1,Sr.set(t,T),Qe(T,s)}else Ho(t),E()}}}function Ho(t){const e=Sr.get(t);e&&(e.flags|=8,Sr.delete(t))}$r().requestIdleCallback;$r().cancelIdleCallback;const An=t=>!!t.type.__asyncLoader,zl=t=>t.type.__isKeepAlive;function yh(t,e){Jl(t,"a",e)}function _h(t,e){Jl(t,"da",e)}function Jl(t,e,s=Ae){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Nr(e,n,s),s){let r=s.parent;for(;r&&r.parent;)zl(r.parent.vnode)&&wh(n,e,s,r),r=r.parent}}function wh(t,e,s,n){const r=Nr(e,t,n,!0);Xl(()=>{oo(n[e],r)},s)}function Nr(t,e,s=Ae,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Dt();const a=Zn(s),l=Ot(e,s,t,o);return a(),Ut(),l});return n?r.unshift(i):r.push(i),i}}const Lt=t=>(e,s=Ae)=>{(!Bn||t==="sp")&&Nr(t,(...n)=>e(...n),s)},bh=Lt("bm"),Sh=Lt("m"),Eh=Lt("bu"),Th=Lt("u"),Yl=Lt("bum"),Xl=Lt("um"),Oh=Lt("sp"),kh=Lt("rtg"),Ch=Lt("rtc");function Ph(t,e=Ae){Nr("ec",t,e)}const Ah="components";function Rh(t,e){return jh(Ah,t,!0,e)||t}const xh=Symbol.for("v-ndc");function jh(t,e,s=!0,n=!1){const r=ot||Ae;if(r){const i=r.type;{const a=Ed(i,!1);if(a&&(a===e||a===tt(e)||a===Ir(tt(e))))return i}const o=Wo(r[t]||i[t],e)||Wo(r.appContext[t],e);return!o&&n?i:o}}function Wo(t,e){return t&&(t[e]||t[tt(e)]||t[Ir(tt(e))])}function Ih(t,e,s,n){let r;const i=s,o=Q(t);if(o||we(t)){const a=o&&Vs(t);let l=!1,u=!1;a&&(l=!et(t),u=os(t),t=Dr(t)),r=new Array(t.length);for(let c=0,h=t.length;c<h;c++)r[c]=e(l?u?yr(Oe(t[c])):Oe(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(ge(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const Si=t=>t?_c(t)?Eo(t):Si(t.parent):null,Rn=Re(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Si(t.parent),$root:t=>Si(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ec(t),$forceUpdate:t=>t.f||(t.f=()=>{mo(t.update)}),$nextTick:t=>t.n||(t.n=vo.bind(t.proxy)),$watch:t=>td.bind(t)}),si=(t,e)=>t!==pe&&!t.__isScriptSetup&&ie(t,e),$h={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(si(n,e))return o[e]=1,n[e];if(r!==pe&&ie(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&ie(u,e))return o[e]=3,i[e];if(s!==pe&&ie(s,e))return o[e]=4,s[e];Ei&&(o[e]=0)}}const c=Rn[e];let h,d;if(c)return e==="$attrs"&&Ce(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==pe&&ie(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,ie(d,e))return d[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return si(r,e)?(r[e]=s,!0):n!==pe&&ie(n,e)?(n[e]=s,!0):ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i,type:o}},a){let l,u;return!!(s[a]||t!==pe&&a[0]!=="$"&&ie(t,a)||si(e,a)||(l=i[0])&&ie(l,a)||ie(n,a)||ie(Rn,a)||ie(r.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ie(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ko(t){return Q(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Ei=!0;function Mh(t){const e=ec(t),s=t.proxy,n=t.ctx;Ei=!1,e.beforeCreate&&Qo(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:f,updated:y,activated:_,deactivated:E,beforeDestroy:T,beforeUnmount:S,destroyed:w,unmounted:b,render:L,renderTracked:F,renderTriggered:B,errorCaptured:X,serverPrefetch:ce,expose:G,inheritAttrs:me,components:De,directives:xe,filters:gn}=e;if(u&&Dh(u,n,null),o)for(const le in o){const ne=o[le];z(ne)&&(n[le]=ne.bind(s))}if(r){const le=r.call(s,s);ge(le)&&(t.data=dn(le))}if(Ei=!0,i)for(const le in i){const ne=i[le],kt=z(ne)?ne.bind(s,s):z(ne.get)?ne.get.bind(s,s):Tt,Ft=!z(ne)&&z(ne.set)?ne.set.bind(s):Tt,ut=He({get:kt,set:Ft});Object.defineProperty(n,le,{enumerable:!0,configurable:!0,get:()=>ut.value,set:Ue=>ut.value=Ue})}if(a)for(const le in a)Zl(a[le],n,s,le);if(l){const le=z(l)?l.call(s):l;Reflect.ownKeys(le).forEach(ne=>{fr(ne,le[ne])})}c&&Qo(c,t,"c");function Ee(le,ne){Q(ne)?ne.forEach(kt=>le(kt.bind(s))):ne&&le(ne.bind(s))}if(Ee(bh,h),Ee(Sh,d),Ee(Eh,f),Ee(Th,y),Ee(yh,_),Ee(_h,E),Ee(Ph,X),Ee(Ch,F),Ee(kh,B),Ee(Yl,S),Ee(Xl,b),Ee(Oh,ce),Q(G))if(G.length){const le=t.exposed||(t.exposed={});G.forEach(ne=>{Object.defineProperty(le,ne,{get:()=>s[ne],set:kt=>s[ne]=kt,enumerable:!0})})}else t.exposed||(t.exposed={});L&&t.render===Tt&&(t.render=L),me!=null&&(t.inheritAttrs=me),De&&(t.components=De),xe&&(t.directives=xe),ce&&Gl(t)}function Dh(t,e,s=Tt){Q(t)&&(t=Ti(t));for(const n in t){const r=t[n];let i;ge(r)?"default"in r?i=lt(r.from||n,r.default,!0):i=lt(r.from||n):i=lt(r),Se(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function Qo(t,e,s){Ot(Q(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Zl(t,e,s,n){let r=n.includes(".")?fc(s,n):()=>s[n];if(we(t)){const i=e[t];z(i)&&ns(r,i)}else if(z(t))ns(r,t.bind(s));else if(ge(t))if(Q(t))t.forEach(i=>Zl(i,e,s,n));else{const i=z(t.handler)?t.handler.bind(s):e[t.handler];z(i)&&ns(r,i,t)}}function ec(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(u=>Er(l,u,o,!0)),Er(l,e,o)),ge(e)&&i.set(e,l),l}function Er(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&Er(t,i,s,!0),r&&r.forEach(o=>Er(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=Uh[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Uh={data:Vo,props:Go,emits:Go,methods:Sn,computed:Sn,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:Sn,directives:Sn,watch:Fh,provide:Vo,inject:Lh};function Vo(t,e){return e?t?function(){return Re(z(t)?t.call(this,this):t,z(e)?e.call(this,this):e)}:e:t}function Lh(t,e){return Sn(Ti(t),Ti(e))}function Ti(t){if(Q(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function je(t,e){return t?[...new Set([].concat(t,e))]:e}function Sn(t,e){return t?Re(Object.create(null),t,e):e}function Go(t,e){return t?Q(t)&&Q(e)?[...new Set([...t,...e])]:Re(Object.create(null),Ko(t),Ko(e??{})):e}function Fh(t,e){if(!t)return e;if(!e)return t;const s=Re(Object.create(null),t);for(const n in e)s[n]=je(t[n],e[n]);return s}function tc(){return{app:null,config:{isNativeTag:gl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nh=0;function Bh(t,e){return function(n,r=null){z(n)||(n=Re({},n)),r!=null&&!ge(r)&&(r=null);const i=tc(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Nh++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Od,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&z(c.install)?(o.add(c),c.install(u,...h)):z(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!l){const f=u._ceVNode||We(n,r);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(f,c,d),l=!0,u._container=c,c.__vue_app__=u,Eo(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ot(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Ps;Ps=u;try{return c()}finally{Ps=h}}};return u}}let Ps=null;function fr(t,e){if(Ae){let s=Ae.provides;const n=Ae.parent&&Ae.parent.provides;n===s&&(s=Ae.provides=Object.create(n)),s[t]=e}}function lt(t,e,s=!1){const n=yc();if(n||Ps){let r=Ps?Ps._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&z(e)?e.call(n&&n.proxy):e}}function qh(){return!!(yc()||Ps)}const sc={},nc=()=>Object.create(sc),rc=t=>Object.getPrototypeOf(t)===sc;function Hh(t,e,s,n=!1){const r={},i=nc();t.propsDefaults=Object.create(null),ic(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:po(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Wh(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=se(r),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(Br(t.emitsOptions,d))continue;const f=e[d];if(l)if(ie(i,d))f!==i[d]&&(i[d]=f,u=!0);else{const y=tt(d);r[y]=Oi(l,a,y,f,t,!1)}else f!==i[d]&&(i[d]=f,u=!0)}}}else{ic(t,e,r,i)&&(u=!0);let c;for(const h in a)(!e||!ie(e,h)&&((c=Rs(h))===h||!ie(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(r[h]=Oi(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!ie(e,h))&&(delete i[h],u=!0)}u&&Mt(t.attrs,"set","")}function ic(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(On(l))continue;const u=e[l];let c;r&&ie(r,c=tt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Br(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=se(s),u=a||pe;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Oi(r,l,h,u[h],t,!ie(u,h))}}return o}function Oi(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=ie(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&z(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=Zn(r);n=u[s]=l.call(null,e),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Rs(s))&&(n=!0))}return n}const Kh=new WeakMap;function oc(t,e,s=!1){const n=s?Kh:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!z(t)){const c=h=>{l=!0;const[d,f]=oc(h,e,!0);Re(o,d),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ge(t)&&n.set(t,Ks),Ks;if(Q(i))for(let c=0;c<i.length;c++){const h=tt(i[c]);zo(h)&&(o[h]=pe)}else if(i)for(const c in i){const h=tt(c);if(zo(h)){const d=i[c],f=o[h]=Q(d)||z(d)?{type:d}:Re({},d),y=f.type;let _=!1,E=!0;if(Q(y))for(let T=0;T<y.length;++T){const S=y[T],w=z(S)&&S.name;if(w==="Boolean"){_=!0;break}else w==="String"&&(E=!1)}else _=z(y)&&y.name==="Boolean";f[0]=_,f[1]=E,(_||ie(f,"default"))&&a.push(h)}}const u=[o,a];return ge(t)&&n.set(t,u),u}function zo(t){return t[0]!=="$"&&!On(t)}const wo=t=>t==="_"||t==="_ctx"||t==="$stable",bo=t=>Q(t)?t.map(Et):[Et(t)],Qh=(t,e,s)=>{if(e._n)return e;const n=ph((...r)=>bo(e(...r)),s);return n._c=!1,n},ac=(t,e,s)=>{const n=t._ctx;for(const r in t){if(wo(r))continue;const i=t[r];if(z(i))e[r]=Qh(r,i,n);else if(i!=null){const o=bo(i);e[r]=()=>o}}},lc=(t,e)=>{const s=bo(e);t.slots.default=()=>s},cc=(t,e,s)=>{for(const n in e)(s||!wo(n))&&(t[n]=e[n])},Vh=(t,e,s)=>{const n=t.slots=nc();if(t.vnode.shapeFlag&32){const r=e._;r?(cc(n,e,s),s&&wl(n,"_",r,!0)):ac(e,n)}else e&&lc(t,e)},Gh=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=pe;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:cc(r,e,s):(i=!e.$stable,ac(e,r)),o=e}else e&&(lc(t,e),o={default:1});if(i)for(const a in r)!wo(a)&&o[a]==null&&delete r[a]},Qe=cd;function zh(t){return Jh(t)}function Jh(t,e){const s=$r();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:f=Tt,insertStaticContent:y}=t,_=(p,g,m,k=null,P=null,O=null,I=void 0,x=null,R=!!g.dynamicChildren)=>{if(p===g)return;p&&!yn(p,g)&&(k=C(p),Ue(p,P,O,!0),p=null),g.patchFlag===-2&&(R=!1,g.dynamicChildren=null);const{type:A,ref:W,shapeFlag:M}=g;switch(A){case qr:E(p,g,m,k);break;case as:T(p,g,m,k);break;case ri:p==null&&S(g,m,k,I);break;case St:De(p,g,m,k,P,O,I,x,R);break;default:M&1?L(p,g,m,k,P,O,I,x,R):M&6?xe(p,g,m,k,P,O,I,x,R):(M&64||M&128)&&A.process(p,g,m,k,P,O,I,x,R,N)}W!=null&&P?Pn(W,p&&p.ref,O,g||p,!g):W==null&&p&&p.ref!=null&&Pn(p.ref,null,O,p,!0)},E=(p,g,m,k)=>{if(p==null)n(g.el=a(g.children),m,k);else{const P=g.el=p.el;g.children!==p.children&&u(P,g.children)}},T=(p,g,m,k)=>{p==null?n(g.el=l(g.children||""),m,k):g.el=p.el},S=(p,g,m,k)=>{[p.el,p.anchor]=y(p.children,g,m,k,p.el,p.anchor)},w=({el:p,anchor:g},m,k)=>{let P;for(;p&&p!==g;)P=d(p),n(p,m,k),p=P;n(g,m,k)},b=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=d(p),r(p),p=m;r(g)},L=(p,g,m,k,P,O,I,x,R)=>{g.type==="svg"?I="svg":g.type==="math"&&(I="mathml"),p==null?F(g,m,k,P,O,I,x,R):ce(p,g,P,O,I,x,R)},F=(p,g,m,k,P,O,I,x)=>{let R,A;const{props:W,shapeFlag:M,transition:q,dirs:K}=p;if(R=p.el=o(p.type,O,W&&W.is,W),M&8?c(R,p.children):M&16&&X(p.children,R,null,k,P,ni(p,O),I,x),K&&us(p,null,k,"created"),B(R,p,p.scopeId,I,k),W){for(const he in W)he!=="value"&&!On(he)&&i(R,he,null,W[he],O,k);"value"in W&&i(R,"value",null,W.value,O),(A=W.onVnodeBeforeMount)&&pt(A,k,p)}K&&us(p,null,k,"beforeMount");const te=Yh(P,q);te&&q.beforeEnter(R),n(R,g,m),((A=W&&W.onVnodeMounted)||te||K)&&Qe(()=>{A&&pt(A,k,p),te&&q.enter(R),K&&us(p,null,k,"mounted")},P)},B=(p,g,m,k,P)=>{if(m&&f(p,m),k)for(let O=0;O<k.length;O++)f(p,k[O]);if(P){let O=P.subTree;if(g===O||gc(O.type)&&(O.ssContent===g||O.ssFallback===g)){const I=P.vnode;B(p,I,I.scopeId,I.slotScopeIds,P.parent)}}},X=(p,g,m,k,P,O,I,x,R=0)=>{for(let A=R;A<p.length;A++){const W=p[A]=x?Kt(p[A]):Et(p[A]);_(null,W,g,m,k,P,O,I,x)}},ce=(p,g,m,k,P,O,I)=>{const x=g.el=p.el;let{patchFlag:R,dynamicChildren:A,dirs:W}=g;R|=p.patchFlag&16;const M=p.props||pe,q=g.props||pe;let K;if(m&&hs(m,!1),(K=q.onVnodeBeforeUpdate)&&pt(K,m,g,p),W&&us(g,p,m,"beforeUpdate"),m&&hs(m,!0),(M.innerHTML&&q.innerHTML==null||M.textContent&&q.textContent==null)&&c(x,""),A?G(p.dynamicChildren,A,x,m,k,ni(g,P),O):I||ne(p,g,x,null,m,k,ni(g,P),O,!1),R>0){if(R&16)me(x,M,q,m,P);else if(R&2&&M.class!==q.class&&i(x,"class",null,q.class,P),R&4&&i(x,"style",M.style,q.style,P),R&8){const te=g.dynamicProps;for(let he=0;he<te.length;he++){const ae=te[he],Le=M[ae],Fe=q[ae];(Fe!==Le||ae==="value")&&i(x,ae,Le,Fe,P,m)}}R&1&&p.children!==g.children&&c(x,g.children)}else!I&&A==null&&me(x,M,q,m,P);((K=q.onVnodeUpdated)||W)&&Qe(()=>{K&&pt(K,m,g,p),W&&us(g,p,m,"updated")},k)},G=(p,g,m,k,P,O,I)=>{for(let x=0;x<g.length;x++){const R=p[x],A=g[x],W=R.el&&(R.type===St||!yn(R,A)||R.shapeFlag&198)?h(R.el):m;_(R,A,W,null,k,P,O,I,!0)}},me=(p,g,m,k,P)=>{if(g!==m){if(g!==pe)for(const O in g)!On(O)&&!(O in m)&&i(p,O,g[O],null,P,k);for(const O in m){if(On(O))continue;const I=m[O],x=g[O];I!==x&&O!=="value"&&i(p,O,x,I,P,k)}"value"in m&&i(p,"value",g.value,m.value,P)}},De=(p,g,m,k,P,O,I,x,R)=>{const A=g.el=p?p.el:a(""),W=g.anchor=p?p.anchor:a("");let{patchFlag:M,dynamicChildren:q,slotScopeIds:K}=g;K&&(x=x?x.concat(K):K),p==null?(n(A,m,k),n(W,m,k),X(g.children||[],m,W,P,O,I,x,R)):M>0&&M&64&&q&&p.dynamicChildren?(G(p.dynamicChildren,q,m,P,O,I,x),(g.key!=null||P&&g===P.subTree)&&uc(p,g,!0)):ne(p,g,m,W,P,O,I,x,R)},xe=(p,g,m,k,P,O,I,x,R)=>{g.slotScopeIds=x,p==null?g.shapeFlag&512?P.ctx.activate(g,m,k,I,R):gn(g,m,k,P,O,I,R):js(p,g,R)},gn=(p,g,m,k,P,O,I)=>{const x=p.component=yd(p,k,P);if(zl(p)&&(x.ctx.renderer=N),_d(x,!1,I),x.asyncDep){if(P&&P.registerDep(x,Ee,I),!p.el){const R=x.subTree=We(as);T(null,R,g,m),p.placeholder=R.el}}else Ee(x,p,g,m,P,O,I)},js=(p,g,m)=>{const k=g.component=p.component;if(ad(p,g,m))if(k.asyncDep&&!k.asyncResolved){le(k,g,m);return}else k.next=g,k.update();else g.el=p.el,k.vnode=g},Ee=(p,g,m,k,P,O,I)=>{const x=()=>{if(p.isMounted){let{next:M,bu:q,u:K,parent:te,vnode:he}=p;{const dt=hc(p);if(dt){M&&(M.el=he.el,le(p,M,I)),dt.asyncDep.then(()=>{p.isUnmounted||x()});return}}let ae=M,Le;hs(p,!1),M?(M.el=he.el,le(p,M,I)):M=he,q&&Yr(q),(Le=M.props&&M.props.onVnodeBeforeUpdate)&&pt(Le,te,M,he),hs(p,!0);const Fe=Yo(p),ht=p.subTree;p.subTree=Fe,_(ht,Fe,h(ht.el),C(ht),p,P,O),M.el=Fe.el,ae===null&&ld(p,Fe.el),K&&Qe(K,P),(Le=M.props&&M.props.onVnodeUpdated)&&Qe(()=>pt(Le,te,M,he),P)}else{let M;const{el:q,props:K}=g,{bm:te,m:he,parent:ae,root:Le,type:Fe}=p,ht=An(g);hs(p,!1),te&&Yr(te),!ht&&(M=K&&K.onVnodeBeforeMount)&&pt(M,ae,g),hs(p,!0);{Le.ce&&Le.ce._def.shadowRoot!==!1&&Le.ce._injectChildStyle(Fe);const dt=p.subTree=Yo(p);_(null,dt,m,k,p,P,O),g.el=dt.el}if(he&&Qe(he,P),!ht&&(M=K&&K.onVnodeMounted)){const dt=g;Qe(()=>pt(M,ae,dt),P)}(g.shapeFlag&256||ae&&An(ae.vnode)&&ae.vnode.shapeFlag&256)&&p.a&&Qe(p.a,P),p.isMounted=!0,g=m=k=null}};p.scope.on();const R=p.effect=new Tl(x);p.scope.off();const A=p.update=R.run.bind(R),W=p.job=R.runIfDirty.bind(R);W.i=p,W.id=p.uid,R.scheduler=()=>mo(W),hs(p,!0),A()},le=(p,g,m)=>{g.component=p;const k=p.vnode.props;p.vnode=g,p.next=null,Wh(p,g.props,k,m),Gh(p,g.children,m),Dt(),qo(p),Ut()},ne=(p,g,m,k,P,O,I,x,R=!1)=>{const A=p&&p.children,W=p?p.shapeFlag:0,M=g.children,{patchFlag:q,shapeFlag:K}=g;if(q>0){if(q&128){Ft(A,M,m,k,P,O,I,x,R);return}else if(q&256){kt(A,M,m,k,P,O,I,x,R);return}}K&8?(W&16&&Ge(A,P,O),M!==A&&c(m,M)):W&16?K&16?Ft(A,M,m,k,P,O,I,x,R):Ge(A,P,O,!0):(W&8&&c(m,""),K&16&&X(M,m,k,P,O,I,x,R))},kt=(p,g,m,k,P,O,I,x,R)=>{p=p||Ks,g=g||Ks;const A=p.length,W=g.length,M=Math.min(A,W);let q;for(q=0;q<M;q++){const K=g[q]=R?Kt(g[q]):Et(g[q]);_(p[q],K,m,null,P,O,I,x,R)}A>W?Ge(p,P,O,!0,!1,M):X(g,m,k,P,O,I,x,R,M)},Ft=(p,g,m,k,P,O,I,x,R)=>{let A=0;const W=g.length;let M=p.length-1,q=W-1;for(;A<=M&&A<=q;){const K=p[A],te=g[A]=R?Kt(g[A]):Et(g[A]);if(yn(K,te))_(K,te,m,null,P,O,I,x,R);else break;A++}for(;A<=M&&A<=q;){const K=p[M],te=g[q]=R?Kt(g[q]):Et(g[q]);if(yn(K,te))_(K,te,m,null,P,O,I,x,R);else break;M--,q--}if(A>M){if(A<=q){const K=q+1,te=K<W?g[K].el:k;for(;A<=q;)_(null,g[A]=R?Kt(g[A]):Et(g[A]),m,te,P,O,I,x,R),A++}}else if(A>q)for(;A<=M;)Ue(p[A],P,O,!0),A++;else{const K=A,te=A,he=new Map;for(A=te;A<=q;A++){const Ke=g[A]=R?Kt(g[A]):Et(g[A]);Ke.key!=null&&he.set(Ke.key,A)}let ae,Le=0;const Fe=q-te+1;let ht=!1,dt=0;const vn=new Array(Fe);for(A=0;A<Fe;A++)vn[A]=0;for(A=K;A<=M;A++){const Ke=p[A];if(Le>=Fe){Ue(Ke,P,O,!0);continue}let ft;if(Ke.key!=null)ft=he.get(Ke.key);else for(ae=te;ae<=q;ae++)if(vn[ae-te]===0&&yn(Ke,g[ae])){ft=ae;break}ft===void 0?Ue(Ke,P,O,!0):(vn[ft-te]=A+1,ft>=dt?dt=ft:ht=!0,_(Ke,g[ft],m,null,P,O,I,x,R),Le++)}const Mo=ht?Xh(vn):Ks;for(ae=Mo.length-1,A=Fe-1;A>=0;A--){const Ke=te+A,ft=g[Ke],Do=g[Ke+1],Uo=Ke+1<W?Do.el||Do.placeholder:k;vn[A]===0?_(null,ft,m,Uo,P,O,I,x,R):ht&&(ae<0||A!==Mo[ae]?ut(ft,m,Uo,2):ae--)}}},ut=(p,g,m,k,P=null)=>{const{el:O,type:I,transition:x,children:R,shapeFlag:A}=p;if(A&6){ut(p.component.subTree,g,m,k);return}if(A&128){p.suspense.move(g,m,k);return}if(A&64){I.move(p,g,m,N);return}if(I===St){n(O,g,m);for(let M=0;M<R.length;M++)ut(R[M],g,m,k);n(p.anchor,g,m);return}if(I===ri){w(p,g,m);return}if(k!==2&&A&1&&x)if(k===0)x.beforeEnter(O),n(O,g,m),Qe(()=>x.enter(O),P);else{const{leave:M,delayLeave:q,afterLeave:K}=x,te=()=>{p.ctx.isUnmounted?r(O):n(O,g,m)},he=()=>{O._isLeaving&&O[mh](!0),M(O,()=>{te(),K&&K()})};q?q(O,te,he):he()}else n(O,g,m)},Ue=(p,g,m,k=!1,P=!1)=>{const{type:O,props:I,ref:x,children:R,dynamicChildren:A,shapeFlag:W,patchFlag:M,dirs:q,cacheIndex:K}=p;if(M===-2&&(P=!1),x!=null&&(Dt(),Pn(x,null,m,p,!0),Ut()),K!=null&&(g.renderCache[K]=void 0),W&256){g.ctx.deactivate(p);return}const te=W&1&&q,he=!An(p);let ae;if(he&&(ae=I&&I.onVnodeBeforeUnmount)&&pt(ae,g,p),W&6)rr(p.component,m,k);else{if(W&128){p.suspense.unmount(m,k);return}te&&us(p,null,g,"beforeUnmount"),W&64?p.type.remove(p,g,m,N,k):A&&!A.hasOnce&&(O!==St||M>0&&M&64)?Ge(A,g,m,!1,!0):(O===St&&M&384||!P&&W&16)&&Ge(R,g,m),k&&Is(p)}(he&&(ae=I&&I.onVnodeUnmounted)||te)&&Qe(()=>{ae&&pt(ae,g,p),te&&us(p,null,g,"unmounted")},m)},Is=p=>{const{type:g,el:m,anchor:k,transition:P}=p;if(g===St){$s(m,k);return}if(g===ri){b(p);return}const O=()=>{r(m),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(p.shapeFlag&1&&P&&!P.persisted){const{leave:I,delayLeave:x}=P,R=()=>I(m,O);x?x(p.el,O,R):R()}else O()},$s=(p,g)=>{let m;for(;p!==g;)m=d(p),r(p),p=m;r(g)},rr=(p,g,m)=>{const{bum:k,scope:P,job:O,subTree:I,um:x,m:R,a:A}=p;Jo(R),Jo(A),k&&Yr(k),P.stop(),O&&(O.flags|=8,Ue(I,p,g,m)),x&&Qe(x,g),Qe(()=>{p.isUnmounted=!0},g)},Ge=(p,g,m,k=!1,P=!1,O=0)=>{for(let I=O;I<p.length;I++)Ue(p[I],g,m,k,P)},C=p=>{if(p.shapeFlag&6)return C(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),m=g&&g[gh];return m?d(m):g};let U=!1;const $=(p,g,m)=>{p==null?g._vnode&&Ue(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,m),g._vnode=p,U||(U=!0,qo(),Kl(),U=!1)},N={p:_,um:Ue,m:ut,r:Is,mt:gn,mc:X,pc:ne,pbc:G,n:C,o:t};return{render:$,hydrate:void 0,createApp:Bh($)}}function ni({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function hs({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Yh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function uc(t,e,s=!1){const n=t.children,r=e.children;if(Q(n)&&Q(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Kt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&uc(o,a)),a.type===qr&&a.patchFlag!==-1&&(a.el=o.el),a.type===as&&!a.el&&(a.el=o.el)}}function Xh(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function hc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:hc(e)}function Jo(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Zh=Symbol.for("v-scx"),ed=()=>lt(Zh);function ns(t,e,s){return dc(t,e,s)}function dc(t,e,s=pe){const{immediate:n,deep:r,flush:i,once:o}=s,a=Re({},s),l=e&&n||!e&&i!=="post";let u;if(Bn){if(i==="sync"){const f=ed();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Tt,f.resume=Tt,f.pause=Tt,f}}const c=Ae;a.call=(f,y,_)=>Ot(f,c,y,_);let h=!1;i==="post"?a.scheduler=f=>{Qe(f,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,y)=>{y?f():mo(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const d=uh(t,e,a);return Bn&&(u?u.push(d):l&&d()),d}function td(t,e,s){const n=this.proxy,r=we(t)?t.includes(".")?fc(n,t):()=>n[t]:t.bind(n,n);let i;z(e)?i=e:(i=e.handler,s=e);const o=Zn(this),a=dc(r,i.bind(n),s);return o(),a}function fc(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const sd=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${tt(e)}Modifiers`]||t[`${Rs(e)}Modifiers`];function nd(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||pe;let r=s;const i=e.startsWith("update:"),o=i&&sd(n,e.slice(7));o&&(o.trim&&(r=s.map(c=>we(c)?c.trim():c)),o.number&&(r=s.map(Tu)));let a,l=n[a=Jr(e)]||n[a=Jr(tt(e))];!l&&i&&(l=n[a=Jr(Rs(e))]),l&&Ot(l,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ot(u,t,6,r)}}const rd=new WeakMap;function pc(t,e,s=!1){const n=s?rd:e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!z(t)){const l=u=>{const c=pc(u,e,!0);c&&(a=!0,Re(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ge(t)&&n.set(t,null),null):(Q(i)?i.forEach(l=>o[l]=null):Re(o,i),ge(t)&&n.set(t,o),o)}function Br(t,e){return!t||!Rr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ie(t,e[0].toLowerCase()+e.slice(1))||ie(t,Rs(e))||ie(t,e))}function Yo(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:f,ctx:y,inheritAttrs:_}=t,E=br(t);let T,S;try{if(s.shapeFlag&4){const b=r||n,L=b;T=Et(u.call(L,b,c,h,f,d,y)),S=a}else{const b=e;T=Et(b.length>1?b(h,{attrs:a,slots:o,emit:l}):b(h,null)),S=e.props?a:id(a)}}catch(b){xn.length=0,Fr(b,t,1),T=We(as)}let w=T;if(S&&_!==!1){const b=Object.keys(S),{shapeFlag:L}=w;b.length&&L&7&&(i&&b.some(io)&&(S=od(S,i)),w=ln(w,S,!1,!0))}return s.dirs&&(w=ln(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&yo(w,s.transition),T=w,br(E),T}const id=t=>{let e;for(const s in t)(s==="class"||s==="style"||Rr(s))&&((e||(e={}))[s]=t[s]);return e},od=(t,e)=>{const s={};for(const n in t)(!io(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function ad(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Xo(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==n[d]&&!Br(u,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Xo(n,o,u):!0:!!o;return!1}function Xo(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!Br(s,i))return!0}return!1}function ld({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const gc=t=>t.__isSuspense;function cd(t,e){e&&e.pendingBranch?Q(t)?e.effects.push(...t):e.effects.push(t):fh(t)}const St=Symbol.for("v-fgt"),qr=Symbol.for("v-txt"),as=Symbol.for("v-cmt"),ri=Symbol.for("v-stc"),xn=[];let Ve=null;function mt(t=!1){xn.push(Ve=t?null:[])}function ud(){xn.pop(),Ve=xn[xn.length-1]||null}let Nn=1;function Tr(t,e=!1){Nn+=t,t<0&&Ve&&e&&(Ve.hasOnce=!0)}function vc(t){return t.dynamicChildren=Nn>0?Ve||Ks:null,ud(),Nn>0&&Ve&&Ve.push(t),t}function At(t,e,s,n,r,i){return vc(j(t,e,s,n,r,i,!0))}function hd(t,e,s,n,r){return vc(We(t,e,s,n,r,!0))}function Or(t){return t?t.__v_isVNode===!0:!1}function yn(t,e){return t.type===e.type&&t.key===e.key}const mc=({key:t})=>t??null,pr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?we(t)||Se(t)||z(t)?{i:ot,r:t,k:e,f:!!s}:t:null);function j(t,e=null,s=null,n=0,r=null,i=t===St?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mc(e),ref:e&&pr(e),scopeId:Vl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ot};return a?(So(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=we(s)?8:16),Nn>0&&!o&&Ve&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ve.push(l),l}const We=dd;function dd(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===xh)&&(t=as),Or(t)){const a=ln(t,e,!0);return s&&So(a,s),Nn>0&&!i&&Ve&&(a.shapeFlag&6?Ve[Ve.indexOf(t)]=a:Ve.push(a)),a.patchFlag=-2,a}if(Td(t)&&(t=t.__vccOpts),e){e=fd(e);let{class:a,style:l}=e;a&&!we(a)&&(e.class=Mr(a)),ge(l)&&(go(l)&&!Q(l)&&(l=Re({},l)),e.style=lo(l))}const o=we(t)?1:gc(t)?128:vh(t)?64:ge(t)?4:z(t)?2:0;return j(t,e,s,n,r,o,i,!0)}function fd(t){return t?go(t)||rc(t)?Re({},t):t:null}function ln(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?gd(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&mc(u),ref:e&&e.ref?s&&i?Q(i)?i.concat(pr(e)):[i,pr(e)]:pr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==St?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ln(t.ssContent),ssFallback:t.ssFallback&&ln(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&yo(c,l.clone(c)),c}function pd(t=" ",e=0){return We(qr,null,t,e)}function ii(t="",e=!1){return e?(mt(),hd(as,null,t)):We(as,null,t)}function Et(t){return t==null||typeof t=="boolean"?We(as):Q(t)?We(St,null,t.slice()):Or(t)?Kt(t):We(qr,null,String(t))}function Kt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ln(t)}function So(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Q(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),So(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!rc(e)?e._ctx=ot:r===3&&ot&&(ot.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else z(e)?(e={default:e,_ctx:ot},s=32):(e=String(e),n&64?(s=16,e=[pd(e)]):s=8);t.children=e,t.shapeFlag|=s}function gd(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Mr([e.class,n.class]));else if(r==="style")e.style=lo([e.style,n.style]);else if(Rr(r)){const i=e[r],o=n[r];o&&i!==o&&!(Q(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function pt(t,e,s,n=null){Ot(t,e,7,[s,n])}const vd=tc();let md=0;function yd(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||vd,i={uid:md++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oc(n,r),emitsOptions:pc(n,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:n.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=nd.bind(null,i),t.ce&&t.ce(i),i}let Ae=null;const yc=()=>Ae||ot;let kr,ki;{const t=$r(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};kr=e("__VUE_INSTANCE_SETTERS__",s=>Ae=s),ki=e("__VUE_SSR_SETTERS__",s=>Bn=s)}const Zn=t=>{const e=Ae;return kr(t),t.scope.on(),()=>{t.scope.off(),kr(e)}},Zo=()=>{Ae&&Ae.scope.off(),kr(null)};function _c(t){return t.vnode.shapeFlag&4}let Bn=!1;function _d(t,e=!1,s=!1){e&&ki(e);const{props:n,children:r}=t.vnode,i=_c(t);Hh(t,n,i,e),Vh(t,r,s||e);const o=i?wd(t,e):void 0;return e&&ki(!1),o}function wd(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$h);const{setup:n}=s;if(n){Dt();const r=t.setupContext=n.length>1?Sd(t):null,i=Zn(t),o=Xn(n,t,0,[t.props,r]),a=ml(o);if(Ut(),i(),(a||t.sp)&&!An(t)&&Gl(t),a){if(o.then(Zo,Zo),e)return o.then(l=>{ea(t,l)}).catch(l=>{Fr(l,t,0)});t.asyncDep=o}else ea(t,o)}else wc(t)}function ea(t,e,s){z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ge(e)&&(t.setupState=ql(e)),wc(t)}function wc(t,e,s){const n=t.type;t.render||(t.render=n.render||Tt);{const r=Zn(t);Dt();try{Mh(t)}finally{Ut(),r()}}}const bd={get(t,e){return Ce(t,"get",""),t[e]}};function Sd(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,bd),slots:t.slots,emit:t.emit,expose:e}}function Eo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ql(eh(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Rn)return Rn[s](t)},has(e,s){return s in e||s in Rn}})):t.proxy}function Ed(t,e=!0){return z(t)?t.displayName||t.name:t.name||e&&t.__name}function Td(t){return z(t)&&"__vccOpts"in t}const He=(t,e)=>lh(t,e,Bn);function bc(t,e,s){try{Tr(-1);const n=arguments.length;return n===2?ge(e)&&!Q(e)?Or(e)?We(t,null,[e]):We(t,e):We(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Or(s)&&(s=[s]),We(t,e,s))}finally{Tr(1)}}const Od="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ci;const ta=typeof window<"u"&&window.trustedTypes;if(ta)try{Ci=ta.createPolicy("vue",{createHTML:t=>t})}catch{}const Sc=Ci?t=>Ci.createHTML(t):t=>t,kd="http://www.w3.org/2000/svg",Cd="http://www.w3.org/1998/Math/MathML",xt=typeof document<"u"?document:null,sa=xt&&xt.createElement("template"),Pd={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?xt.createElementNS(kd,t):e==="mathml"?xt.createElementNS(Cd,t):s?xt.createElement(t,{is:s}):xt.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>xt.createTextNode(t),createComment:t=>xt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>xt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{sa.innerHTML=Sc(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=sa.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ad=Symbol("_vtc");function Rd(t,e,s){const n=t[Ad];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const na=Symbol("_vod"),xd=Symbol("_vsh"),jd=Symbol(""),Id=/(?:^|;)\s*display\s*:/;function $d(t,e,s){const n=t.style,r=we(s);let i=!1;if(s&&!r){if(e)if(we(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&gr(n,a,"")}else for(const o in e)s[o]==null&&gr(n,o,"");for(const o in s)o==="display"&&(i=!0),gr(n,o,s[o])}else if(r){if(e!==s){const o=n[jd];o&&(s+=";"+o),n.cssText=s,i=Id.test(s)}}else e&&t.removeAttribute("style");na in t&&(t[na]=i?n.display:"",t[xd]&&(n.display="none"))}const ra=/\s*!important$/;function gr(t,e,s){if(Q(s))s.forEach(n=>gr(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Md(t,e);ra.test(s)?t.setProperty(Rs(n),s.replace(ra,""),"important"):t[n]=s}}const ia=["Webkit","Moz","ms"],oi={};function Md(t,e){const s=oi[e];if(s)return s;let n=tt(e);if(n!=="filter"&&n in t)return oi[e]=n;n=Ir(n);for(let r=0;r<ia.length;r++){const i=ia[r]+n;if(i in t)return oi[e]=i}return e}const oa="http://www.w3.org/1999/xlink";function aa(t,e,s,n,r,i=Ru(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(oa,e.slice(6,e.length)):t.setAttributeNS(oa,e,s):s==null||i&&!bl(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ls(s)?String(s):s)}function la(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Sc(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=bl(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function Dd(t,e,s,n){t.addEventListener(e,s,n)}function Ud(t,e,s,n){t.removeEventListener(e,s,n)}const ca=Symbol("_vei");function Ld(t,e,s,n,r=null){const i=t[ca]||(t[ca]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=Fd(e);if(n){const u=i[e]=qd(n,r);Dd(t,a,u,l)}else o&&(Ud(t,a,o,l),i[e]=void 0)}}const ua=/(?:Once|Passive|Capture)$/;function Fd(t){let e;if(ua.test(t)){e={};let n;for(;n=t.match(ua);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rs(t.slice(2)),e]}let ai=0;const Nd=Promise.resolve(),Bd=()=>ai||(Nd.then(()=>ai=0),ai=Date.now());function qd(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ot(Hd(n,s.value),e,5,[n])};return s.value=t,s.attached=Bd(),s}function Hd(t,e){if(Q(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const ha=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Wd=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?Rd(t,n,o):e==="style"?$d(t,s,n):Rr(e)?io(e)||Ld(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Kd(t,e,n,o))?(la(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&aa(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!we(n))?la(t,tt(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),aa(t,e,n,o))};function Kd(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ha(e)&&z(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ha(e)&&we(s)?!1:e in t}const Qd=Re({patchProp:Wd},Pd);let da;function Vd(){return da||(da=zh(Qd))}const Gd=(...t)=>{const e=Vd().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=Jd(n);if(!r)return;const i=e._component;!z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,zd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function zd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Jd(t){return we(t)?document.querySelector(t):t}const Yd={__name:"App",setup(t){return(e,s)=>{const n=Rh("router-view");return mt(),At("div",null,[We(n)])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const qs=typeof document<"u";function Ec(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Xd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ec(t.default)}const re=Object.assign;function li(t,e){const s={};for(const n in e){const r=e[n];s[n]=ct(r)?r.map(t):t(r)}return s}const jn=()=>{},ct=Array.isArray,Tc=/#/g,Zd=/&/g,ef=/\//g,tf=/=/g,sf=/\?/g,Oc=/\+/g,nf=/%5B/g,rf=/%5D/g,kc=/%5E/g,of=/%60/g,Cc=/%7B/g,af=/%7C/g,Pc=/%7D/g,lf=/%20/g;function To(t){return encodeURI(""+t).replace(af,"|").replace(nf,"[").replace(rf,"]")}function cf(t){return To(t).replace(Cc,"{").replace(Pc,"}").replace(kc,"^")}function Pi(t){return To(t).replace(Oc,"%2B").replace(lf,"+").replace(Tc,"%23").replace(Zd,"%26").replace(of,"`").replace(Cc,"{").replace(Pc,"}").replace(kc,"^")}function uf(t){return Pi(t).replace(tf,"%3D")}function hf(t){return To(t).replace(Tc,"%23").replace(sf,"%3F")}function df(t){return t==null?"":hf(t).replace(ef,"%2F")}function qn(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ff=/\/$/,pf=t=>t.replace(ff,"");function ci(t,e,s="/"){let n,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=yf(n??e,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:qn(o)}}function gf(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function fa(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function vf(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&cn(e.matched[n],s.matched[r])&&Ac(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function cn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ac(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!mf(t[s],e[s]))return!1;return!0}function mf(t,e){return ct(t)?pa(t,e):ct(e)?pa(e,t):t===e}function pa(t,e){return ct(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function yf(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Nt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Hn;(function(t){t.pop="pop",t.push="push"})(Hn||(Hn={}));var In;(function(t){t.back="back",t.forward="forward",t.unknown=""})(In||(In={}));function _f(t){if(!t)if(qs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pf(t)}const wf=/^[^#]+#/;function bf(t,e){return t.replace(wf,"#")+e}function Sf(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const Hr=()=>({left:window.scrollX,top:window.scrollY});function Ef(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=Sf(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ga(t,e){return(history.state?history.state.position-e:-1)+t}const Ai=new Map;function Tf(t,e){Ai.set(t,e)}function Of(t){const e=Ai.get(t);return Ai.delete(t),e}let kf=()=>location.protocol+"//"+location.host;function Rc(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),fa(l,"")}return fa(s,t)+n+r}function Cf(t,e,s,n){let r=[],i=[],o=null;const a=({state:d})=>{const f=Rc(t,location),y=s.value,_=e.value;let E=0;if(d){if(s.value=f,e.value=d,o&&o===y){o=null;return}E=_?d.position-_.position:0}else n(f);r.forEach(T=>{T(s.value,y,{delta:E,type:Hn.pop,direction:E?E>0?In.forward:In.back:In.unknown})})};function l(){o=s.value}function u(d){r.push(d);const f=()=>{const y=r.indexOf(d);y>-1&&r.splice(y,1)};return i.push(f),f}function c(){const{history:d}=window;d.state&&d.replaceState(re({},d.state,{scroll:Hr()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function va(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?Hr():null}}function Pf(t){const{history:e,location:s}=window,n={value:Rc(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),d=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:kf()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),r.value=u}catch(f){console.error(f),s[c?"replace":"assign"](d)}}function o(l,u){const c=re({},e.state,va(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),n.value=l}function a(l,u){const c=re({},r.value,e.state,{forward:l,scroll:Hr()});i(c.current,c,!0);const h=re({},va(n.value,l,null),{position:c.position+1},u);i(l,h,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function Af(t){t=_f(t);const e=Pf(t),s=Cf(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=re({location:"",base:t,go:n,createHref:bf.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Rf(t){return typeof t=="string"||t&&typeof t=="object"}function xc(t){return typeof t=="string"||typeof t=="symbol"}const jc=Symbol("");var ma;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ma||(ma={}));function un(t,e){return re(new Error,{type:t,[jc]:!0},e)}function Pt(t,e){return t instanceof Error&&jc in t&&(e==null||!!(t.type&e))}const ya="[^/]+?",xf={sensitive:!1,strict:!1,start:!0,end:!0},jf=/[.+*?^${}()[\]/\\]/g;function If(t,e){const s=re({},xf,e),n=[];let r=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let h=0;h<u.length;h++){const d=u[h];let f=40+(s.sensitive?.25:0);if(d.type===0)h||(r+="/"),r+=d.value.replace(jf,"\\$&"),f+=40;else if(d.type===1){const{value:y,repeatable:_,optional:E,regexp:T}=d;i.push({name:y,repeatable:_,optional:E});const S=T||ya;if(S!==ya){f+=10;try{new RegExp(`(${S})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${y}" (${S}): `+b.message)}}let w=_?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;h||(w=E&&u.length<2?`(?:/${w})`:"/"+w),E&&(w+="?"),r+=w,f+=20,E&&(f+=-8),_&&(f+=-20),S===".*"&&(f+=-50)}c.push(f)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const f=c[d]||"",y=i[d-1];h[y.name]=f&&y.repeatable?f.split("/"):f}return h}function l(u){let c="",h=!1;for(const d of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const f of d)if(f.type===0)c+=f.value;else if(f.type===1){const{value:y,repeatable:_,optional:E}=f,T=y in u?u[y]:"";if(ct(T)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const S=ct(T)?T.join("/"):T;if(!S)if(E)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);c+=S}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function $f(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ic(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=$f(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(_a(n))return 1;if(_a(r))return-1}return r.length-n.length}function _a(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Mf={type:0,value:""},Df=/[a-zA-Z0-9_]/;function Uf(t){if(!t)return[[]];if(t==="/")return[[Mf]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${u}": ${f}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):d();break;case 4:d(),s=n;break;case 1:l==="("?s=2:Df.test(l)?d():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),r}function Lf(t,e,s){const n=If(Uf(t.path),s),r=re(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Ff(t,e){const s=[],n=new Map;e=Ea({strict:!1,end:!0,sensitive:!1},e);function r(h){return n.get(h)}function i(h,d,f){const y=!f,_=ba(h);_.aliasOf=f&&f.record;const E=Ea(e,h),T=[_];if("alias"in h){const b=typeof h.alias=="string"?[h.alias]:h.alias;for(const L of b)T.push(ba(re({},_,{components:f?f.record.components:_.components,path:L,aliasOf:f?f.record:_})))}let S,w;for(const b of T){const{path:L}=b;if(d&&L[0]!=="/"){const F=d.record.path,B=F[F.length-1]==="/"?"":"/";b.path=d.record.path+(L&&B+L)}if(S=Lf(b,d,E),f?f.alias.push(S):(w=w||S,w!==S&&w.alias.push(S),y&&h.name&&!Sa(S)&&o(h.name)),$c(S)&&l(S),_.children){const F=_.children;for(let B=0;B<F.length;B++)i(F[B],S,f&&f.children[B])}f=f||S}return w?()=>{o(w)}:jn}function o(h){if(xc(h)){const d=n.get(h);d&&(n.delete(h),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(h);d>-1&&(s.splice(d,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const d=qf(h,s);s.splice(d,0,h),h.record.name&&!Sa(h)&&n.set(h.record.name,h)}function u(h,d){let f,y={},_,E;if("name"in h&&h.name){if(f=n.get(h.name),!f)throw un(1,{location:h});E=f.record.name,y=re(wa(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&wa(h.params,f.keys.map(w=>w.name))),_=f.stringify(y)}else if(h.path!=null)_=h.path,f=s.find(w=>w.re.test(_)),f&&(y=f.parse(_),E=f.record.name);else{if(f=d.name?n.get(d.name):s.find(w=>w.re.test(d.path)),!f)throw un(1,{location:h,currentLocation:d});E=f.record.name,y=re({},d.params,h.params),_=f.stringify(y)}const T=[];let S=f;for(;S;)T.unshift(S.record),S=S.parent;return{name:E,path:_,params:y,matched:T,meta:Bf(T)}}t.forEach(h=>i(h));function c(){s.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function wa(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function ba(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Nf(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Nf(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Sa(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Bf(t){return t.reduce((e,s)=>re(e,s.meta),{})}function Ea(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function qf(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;Ic(t,e[i])<0?n=i:s=i+1}const r=Hf(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function Hf(t){let e=t;for(;e=e.parent;)if($c(e)&&Ic(t,e)===0)return e}function $c({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Wf(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Oc," "),o=i.indexOf("="),a=qn(o<0?i:i.slice(0,o)),l=o<0?null:qn(i.slice(o+1));if(a in e){let u=e[a];ct(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Ta(t){let e="";for(let s in t){const n=t[s];if(s=uf(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(ct(n)?n.map(i=>i&&Pi(i)):[n&&Pi(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function Kf(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=ct(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const Qf=Symbol(""),Oa=Symbol(""),Oo=Symbol(""),Mc=Symbol(""),Ri=Symbol("");function _n(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Qt(t,e,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(un(4,{from:s,to:e})):d instanceof Error?l(d):Rf(d)?l(un(2,{from:e,to:d})):(o&&n.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>t.call(n&&n.instances[r],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(d=>l(d))})}function ui(t,e,s,n,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ec(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Qt(c,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Xd(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&Qt(f,s,n,o,a,r)()}))}}return i}function ka(t){const e=lt(Oo),s=lt(Mc),n=He(()=>{const l=Ze(t.to);return e.resolve(l)}),r=He(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const d=h.findIndex(cn.bind(null,c));if(d>-1)return d;const f=Ca(l[u-2]);return u>1&&Ca(c)===f&&h[h.length-1].path!==f?h.findIndex(cn.bind(null,l[u-2])):d}),i=He(()=>r.value>-1&&Yf(s.params,n.value.params)),o=He(()=>r.value>-1&&r.value===s.matched.length-1&&Ac(s.params,n.value.params));function a(l={}){if(Jf(l)){const u=e[Ze(t.replace)?"replace":"push"](Ze(t.to)).catch(jn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:He(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function Vf(t){return t.length===1?t[0]:t}const Gf=_o({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ka,setup(t,{slots:e}){const s=dn(ka(t)),{options:n}=lt(Oo),r=He(()=>({[Pa(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Pa(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&Vf(e.default(s));return t.custom?i:bc("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),zf=Gf;function Jf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Yf(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!ct(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Ca(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Pa=(t,e,s)=>t??e??s,Xf=_o({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=lt(Ri),r=He(()=>t.route||n.value),i=lt(Oa,0),o=He(()=>{let u=Ze(i);const{matched:c}=r.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=He(()=>r.value.matched[o.value]);fr(Oa,He(()=>o.value+1)),fr(Qf,a),fr(Ri,r);const l=Nl();return ns(()=>[l.value,a.value,t.name],([u,c,h],[d,f,y])=>{c&&(c.instances[h]=u,f&&f!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!cn(c,f)||!d)&&(c.enterCallbacks[h]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,h=a.value,d=h&&h.components[c];if(!d)return Aa(s.default,{Component:d,route:u});const f=h.props[c],y=f?f===!0?u.params:typeof f=="function"?f(u):f:null,E=bc(d,re({},y,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return Aa(s.default,{Component:E,route:u})||E}}});function Aa(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Zf=Xf;function ep(t){const e=Ff(t.routes,t),s=t.parseQuery||Wf,n=t.stringifyQuery||Ta,r=t.history,i=_n(),o=_n(),a=_n(),l=th(Nt);let u=Nt;qs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=li.bind(null,C=>""+C),h=li.bind(null,df),d=li.bind(null,qn);function f(C,U){let $,N;return xc(C)?($=e.getRecordMatcher(C),N=U):N=C,e.addRoute(N,$)}function y(C){const U=e.getRecordMatcher(C);U&&e.removeRoute(U)}function _(){return e.getRoutes().map(C=>C.record)}function E(C){return!!e.getRecordMatcher(C)}function T(C,U){if(U=re({},U||l.value),typeof C=="string"){const m=ci(s,C,U.path),k=e.resolve({path:m.path},U),P=r.createHref(m.fullPath);return re(m,k,{params:d(k.params),hash:qn(m.hash),redirectedFrom:void 0,href:P})}let $;if(C.path!=null)$=re({},C,{path:ci(s,C.path,U.path).path});else{const m=re({},C.params);for(const k in m)m[k]==null&&delete m[k];$=re({},C,{params:h(m)}),U.params=h(U.params)}const N=e.resolve($,U),ue=C.hash||"";N.params=c(d(N.params));const p=gf(n,re({},C,{hash:cf(ue),path:N.path})),g=r.createHref(p);return re({fullPath:p,hash:ue,query:n===Ta?Kf(C.query):C.query||{}},N,{redirectedFrom:void 0,href:g})}function S(C){return typeof C=="string"?ci(s,C,l.value.path):re({},C)}function w(C,U){if(u!==C)return un(8,{from:U,to:C})}function b(C){return B(C)}function L(C){return b(re(S(C),{replace:!0}))}function F(C){const U=C.matched[C.matched.length-1];if(U&&U.redirect){const{redirect:$}=U;let N=typeof $=="function"?$(C):$;return typeof N=="string"&&(N=N.includes("?")||N.includes("#")?N=S(N):{path:N},N.params={}),re({query:C.query,hash:C.hash,params:N.path!=null?{}:C.params},N)}}function B(C,U){const $=u=T(C),N=l.value,ue=C.state,p=C.force,g=C.replace===!0,m=F($);if(m)return B(re(S(m),{state:typeof m=="object"?re({},ue,m.state):ue,force:p,replace:g}),U||$);const k=$;k.redirectedFrom=U;let P;return!p&&vf(n,N,$)&&(P=un(16,{to:k,from:N}),ut(N,N,!0,!1)),(P?Promise.resolve(P):G(k,N)).catch(O=>Pt(O)?Pt(O,2)?O:Ft(O):ne(O,k,N)).then(O=>{if(O){if(Pt(O,2))return B(re({replace:g},S(O.to),{state:typeof O.to=="object"?re({},ue,O.to.state):ue,force:p}),U||k)}else O=De(k,N,!0,g,ue);return me(k,N,O),O})}function X(C,U){const $=w(C,U);return $?Promise.reject($):Promise.resolve()}function ce(C){const U=$s.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(C):C()}function G(C,U){let $;const[N,ue,p]=tp(C,U);$=ui(N.reverse(),"beforeRouteLeave",C,U);for(const m of N)m.leaveGuards.forEach(k=>{$.push(Qt(k,C,U))});const g=X.bind(null,C,U);return $.push(g),Ge($).then(()=>{$=[];for(const m of i.list())$.push(Qt(m,C,U));return $.push(g),Ge($)}).then(()=>{$=ui(ue,"beforeRouteUpdate",C,U);for(const m of ue)m.updateGuards.forEach(k=>{$.push(Qt(k,C,U))});return $.push(g),Ge($)}).then(()=>{$=[];for(const m of p)if(m.beforeEnter)if(ct(m.beforeEnter))for(const k of m.beforeEnter)$.push(Qt(k,C,U));else $.push(Qt(m.beforeEnter,C,U));return $.push(g),Ge($)}).then(()=>(C.matched.forEach(m=>m.enterCallbacks={}),$=ui(p,"beforeRouteEnter",C,U,ce),$.push(g),Ge($))).then(()=>{$=[];for(const m of o.list())$.push(Qt(m,C,U));return $.push(g),Ge($)}).catch(m=>Pt(m,8)?m:Promise.reject(m))}function me(C,U,$){a.list().forEach(N=>ce(()=>N(C,U,$)))}function De(C,U,$,N,ue){const p=w(C,U);if(p)return p;const g=U===Nt,m=qs?history.state:{};$&&(N||g?r.replace(C.fullPath,re({scroll:g&&m&&m.scroll},ue)):r.push(C.fullPath,ue)),l.value=C,ut(C,U,$,g),Ft()}let xe;function gn(){xe||(xe=r.listen((C,U,$)=>{if(!rr.listening)return;const N=T(C),ue=F(N);if(ue){B(re(ue,{replace:!0,force:!0}),N).catch(jn);return}u=N;const p=l.value;qs&&Tf(ga(p.fullPath,$.delta),Hr()),G(N,p).catch(g=>Pt(g,12)?g:Pt(g,2)?(B(re(S(g.to),{force:!0}),N).then(m=>{Pt(m,20)&&!$.delta&&$.type===Hn.pop&&r.go(-1,!1)}).catch(jn),Promise.reject()):($.delta&&r.go(-$.delta,!1),ne(g,N,p))).then(g=>{g=g||De(N,p,!1),g&&($.delta&&!Pt(g,8)?r.go(-$.delta,!1):$.type===Hn.pop&&Pt(g,20)&&r.go(-1,!1)),me(N,p,g)}).catch(jn)}))}let js=_n(),Ee=_n(),le;function ne(C,U,$){Ft(C);const N=Ee.list();return N.length?N.forEach(ue=>ue(C,U,$)):console.error(C),Promise.reject(C)}function kt(){return le&&l.value!==Nt?Promise.resolve():new Promise((C,U)=>{js.add([C,U])})}function Ft(C){return le||(le=!C,gn(),js.list().forEach(([U,$])=>C?$(C):U()),js.reset()),C}function ut(C,U,$,N){const{scrollBehavior:ue}=t;if(!qs||!ue)return Promise.resolve();const p=!$&&Of(ga(C.fullPath,0))||(N||!$)&&history.state&&history.state.scroll||null;return vo().then(()=>ue(C,U,p)).then(g=>g&&Ef(g)).catch(g=>ne(g,C,U))}const Ue=C=>r.go(C);let Is;const $s=new Set,rr={currentRoute:l,listening:!0,addRoute:f,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:_,resolve:T,options:t,push:b,replace:L,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ee.add,isReady:kt,install(C){const U=this;C.component("RouterLink",zf),C.component("RouterView",Zf),C.config.globalProperties.$router=U,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>Ze(l)}),qs&&!Is&&l.value===Nt&&(Is=!0,b(r.location).catch(ue=>{}));const $={};for(const ue in Nt)Object.defineProperty($,ue,{get:()=>l.value[ue],enumerable:!0});C.provide(Oo,U),C.provide(Mc,po($)),C.provide(Ri,l);const N=C.unmount;$s.add(C),C.unmount=function(){$s.delete(C),$s.size<1&&(u=Nt,xe&&xe(),xe=null,l.value=Nt,Is=!1,le=!1),N()}}};function Ge(C){return C.reduce((U,$)=>U.then(()=>ce($)),Promise.resolve())}return rr}function tp(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>cn(u,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>cn(u,l))||r.push(l))}return[s,n,r]}var er=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sp={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},zt,no,il,np=(il=class{constructor(){H(this,zt,sp);H(this,no,!1)}setTimeoutProvider(t){D(this,zt,t)}setTimeout(t,e){return v(this,zt).setTimeout(t,e)}clearTimeout(t){v(this,zt).clearTimeout(t)}setInterval(t,e){return v(this,zt).setInterval(t,e)}clearInterval(t){v(this,zt).clearInterval(t)}},zt=new WeakMap,no=new WeakMap,il),ms=new np;function rp(t){setTimeout(t,0)}var As=typeof window>"u"||"Deno"in globalThis;function Ye(){}function ip(t,e){return typeof t=="function"?t(e):t}function xi(t){return typeof t=="number"&&t>=0&&t!==1/0}function Dc(t,e){return Math.max(t+(e||0)-Date.now(),0)}function is(t,e){return typeof t=="function"?t(e):t}function Xe(t,e){return typeof t=="function"?t(e):t}function Ra(t,e){const{type:s="all",exact:n,fetchStatus:r,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==ko(o,e.options))return!1}else if(!Kn(e.queryKey,o))return!1}if(s!=="all"){const l=e.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||i&&!i(e))}function xa(t,e){const{exact:s,status:n,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(s){if(Wn(e.options.mutationKey)!==Wn(i))return!1}else if(!Kn(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||r&&!r(e))}function ko(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wn)(t)}function Wn(t){return JSON.stringify(t,(e,s)=>Ii(s)?Object.keys(s).sort().reduce((n,r)=>(n[r]=s[r],n),{}):s)}function Kn(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>Kn(t[s],e[s])):!1}var op=Object.prototype.hasOwnProperty;function Uc(t,e){if(t===e)return t;const s=ja(t)&&ja(e);if(!s&&!(Ii(t)&&Ii(e)))return e;const r=(s?t:Object.keys(t)).length,i=s?e:Object.keys(e),o=i.length,a=s?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=s?u:i[u],h=t[c],d=e[c];if(h===d){a[c]=h,(s?u<r:op.call(t,c))&&l++;continue}if(h===null||d===null||typeof h!="object"||typeof d!="object"){a[c]=d;continue}const f=Uc(h,d);a[c]=f,f===h&&l++}return r===o&&l===r?t:a}function ji(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function ja(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ii(t){if(!Ia(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Ia(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ia(t){return Object.prototype.toString.call(t)==="[object Object]"}function ap(t){return new Promise(e=>{ms.setTimeout(e,t)})}function $i(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Uc(t,e):e}function lp(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function cp(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var Co=Symbol();function Lc(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Co?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $a(t,e){return typeof t=="function"?t(...e):!!t}var ys,Jt,zs,ol,up=(ol=class extends er{constructor(){super();H(this,ys);H(this,Jt);H(this,zs);D(this,zs,e=>{if(!As&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){v(this,Jt)||this.setEventListener(v(this,zs))}onUnsubscribe(){var e;this.hasListeners()||((e=v(this,Jt))==null||e.call(this),D(this,Jt,void 0))}setEventListener(e){var s;D(this,zs,e),(s=v(this,Jt))==null||s.call(this),D(this,Jt,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){v(this,ys)!==e&&(D(this,ys,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof v(this,ys)=="boolean"?v(this,ys):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ys=new WeakMap,Jt=new WeakMap,zs=new WeakMap,ol),Po=new up;function Mi(){let t,e;const s=new Promise((r,i)=>{t=r,e=i});s.status="pending",s.catch(()=>{});function n(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{n({status:"fulfilled",value:r}),t(r)},s.reject=r=>{n({status:"rejected",reason:r}),e(r)},s}var hp=rp;function dp(){let t=[],e=0,s=a=>{a()},n=a=>{a()},r=hp;const i=a=>{e?t.push(a):r(()=>{s(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{n(()=>{a.forEach(l=>{s(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{r=a}}}var Pe=dp(),Js,Yt,Ys,al,fp=(al=class extends er{constructor(){super();H(this,Js,!0);H(this,Yt);H(this,Ys);D(this,Ys,e=>{if(!As&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){v(this,Yt)||this.setEventListener(v(this,Ys))}onUnsubscribe(){var e;this.hasListeners()||((e=v(this,Yt))==null||e.call(this),D(this,Yt,void 0))}setEventListener(e){var s;D(this,Ys,e),(s=v(this,Yt))==null||s.call(this),D(this,Yt,e(this.setOnline.bind(this)))}setOnline(e){v(this,Js)!==e&&(D(this,Js,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return v(this,Js)}},Js=new WeakMap,Yt=new WeakMap,Ys=new WeakMap,al),Cr=new fp;function pp(t){return Math.min(1e3*2**t,3e4)}function Fc(t){return(t??"online")==="online"?Cr.isOnline():!0}var Di=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Nc(t){let e=!1,s=0,n;const r=Mi(),i=()=>r.status!=="pending",o=_=>{var E;if(!i()){const T=new Di(_);d(T),(E=t.onCancel)==null||E.call(t,T)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>Po.isFocused()&&(t.networkMode==="always"||Cr.isOnline())&&t.canRun(),c=()=>Fc(t.networkMode)&&t.canRun(),h=_=>{i()||(n==null||n(),r.resolve(_))},d=_=>{i()||(n==null||n(),r.reject(_))},f=()=>new Promise(_=>{var E;n=T=>{(i()||u())&&_(T)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;n=void 0,i()||(_=t.onContinue)==null||_.call(t)}),y=()=>{if(i())return;let _;const E=s===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(T){_=Promise.reject(T)}Promise.resolve(_).then(h).catch(T=>{var F;if(i())return;const S=t.retry??(As?0:3),w=t.retryDelay??pp,b=typeof w=="function"?w(s,T):w,L=S===!0||typeof S=="number"&&s<S||typeof S=="function"&&S(s,T);if(e||!L){d(T);return}s++,(F=t.onFail)==null||F.call(t,s,T),ap(b).then(()=>u()?void 0:f()).then(()=>{e?d(T):y()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(n==null||n(),r),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?y():f().then(y),r)}}var _s,ll,Bc=(ll=class{constructor(){H(this,_s)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xi(this.gcTime)&&D(this,_s,ms.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(As?1/0:5*60*1e3))}clearGcTimeout(){v(this,_s)&&(ms.clearTimeout(v(this,_s)),D(this,_s,void 0))}},_s=new WeakMap,ll),ws,Xs,Je,bs,Te,Vn,Ss,nt,Rt,cl,gp=(cl=class extends Bc{constructor(e){super();H(this,nt);H(this,ws);H(this,Xs);H(this,Je);H(this,bs);H(this,Te);H(this,Vn);H(this,Ss);D(this,Ss,!1),D(this,Vn,e.defaultOptions),this.setOptions(e.options),this.observers=[],D(this,bs,e.client),D(this,Je,v(this,bs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,D(this,ws,Ma(this.options)),this.state=e.state??v(this,ws),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=v(this,Te))==null?void 0:e.promise}setOptions(e){if(this.options={...v(this,Vn),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Ma(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),D(this,ws,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&v(this,Je).remove(this)}setData(e,s){const n=$i(this.state.data,e,this.options);return Z(this,nt,Rt).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){Z(this,nt,Rt).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,r;const s=(n=v(this,Te))==null?void 0:n.promise;return(r=v(this,Te))==null||r.cancel(e),s?s.then(Ye).catch(Ye):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(v(this,ws))}isActive(){return this.observers.some(e=>Xe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Co||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>is(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Dc(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=v(this,Te))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=v(this,Te))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),v(this,Je).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(v(this,Te)&&(v(this,Ss)?v(this,Te).cancel({revert:!0}):v(this,Te).cancelRetry()),this.scheduleGc()),v(this,Je).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Z(this,nt,Rt).call(this,{type:"invalidate"})}async fetch(e,s){var l,u,c,h,d,f,y,_,E,T,S,w;if(this.state.fetchStatus!=="idle"&&((l=v(this,Te))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(v(this,Te))return v(this,Te).continueRetry(),v(this,Te).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(L=>L.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,r=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(D(this,Ss,!0),n.signal)})},i=()=>{const b=Lc(this.options,s),F=(()=>{const B={client:v(this,bs),queryKey:this.queryKey,meta:this.meta};return r(B),B})();return D(this,Ss,!1),this.options.persister?this.options.persister(b,F,this):b(F)},a=(()=>{const b={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:v(this,bs),state:this.state,fetchFn:i};return r(b),b})();(u=this.options.behavior)==null||u.onFetch(a,this),D(this,Xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Z(this,nt,Rt).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),D(this,Te,Nc({initialPromise:s==null?void 0:s.initialPromise,fn:a.fetchFn,onCancel:b=>{b instanceof Di&&b.revert&&this.setState({...v(this,Xs),fetchStatus:"idle"}),n.abort()},onFail:(b,L)=>{Z(this,nt,Rt).call(this,{type:"failed",failureCount:b,error:L})},onPause:()=>{Z(this,nt,Rt).call(this,{type:"pause"})},onContinue:()=>{Z(this,nt,Rt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const b=await v(this,Te).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(f=(d=v(this,Je).config).onSuccess)==null||f.call(d,b,this),(_=(y=v(this,Je).config).onSettled)==null||_.call(y,b,this.state.error,this),b}catch(b){if(b instanceof Di){if(b.silent)return v(this,Te).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Z(this,nt,Rt).call(this,{type:"error",error:b}),(T=(E=v(this,Je).config).onError)==null||T.call(E,b,this),(w=(S=v(this,Je).config).onSettled)==null||w.call(S,this.state.data,b,this),b}finally{this.scheduleGc()}}},ws=new WeakMap,Xs=new WeakMap,Je=new WeakMap,bs=new WeakMap,Te=new WeakMap,Vn=new WeakMap,Ss=new WeakMap,nt=new WeakSet,Rt=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qc(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return D(this,Xs,e.manual?r:void 0),r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),Pe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),v(this,Je).notify({query:this,type:"updated",action:e})})},cl);function qc(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fc(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ma(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Be,ee,Gn,Ie,Es,Zs,It,Xt,zn,en,tn,Ts,Os,Zt,sn,oe,En,Ui,Li,Fi,Ni,Bi,qi,Hi,Hc,ul,vp=(ul=class extends er{constructor(e,s){super();H(this,oe);H(this,Be);H(this,ee);H(this,Gn);H(this,Ie);H(this,Es);H(this,Zs);H(this,It);H(this,Xt);H(this,zn);H(this,en);H(this,tn);H(this,Ts);H(this,Os);H(this,Zt);H(this,sn,new Set);this.options=s,D(this,Be,e),D(this,Xt,null),D(this,It,Mi()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(v(this,ee).addObserver(this),Da(v(this,ee),this.options)?Z(this,oe,En).call(this):this.updateResult(),Z(this,oe,Ni).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wi(v(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wi(v(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Z(this,oe,Bi).call(this),Z(this,oe,qi).call(this),v(this,ee).removeObserver(this)}setOptions(e){const s=this.options,n=v(this,ee);if(this.options=v(this,Be).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xe(this.options.enabled,v(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Z(this,oe,Hi).call(this),v(this,ee).setOptions(this.options),s._defaulted&&!ji(this.options,s)&&v(this,Be).getQueryCache().notify({type:"observerOptionsUpdated",query:v(this,ee),observer:this});const r=this.hasListeners();r&&Ua(v(this,ee),n,this.options,s)&&Z(this,oe,En).call(this),this.updateResult(),r&&(v(this,ee)!==n||Xe(this.options.enabled,v(this,ee))!==Xe(s.enabled,v(this,ee))||is(this.options.staleTime,v(this,ee))!==is(s.staleTime,v(this,ee)))&&Z(this,oe,Ui).call(this);const i=Z(this,oe,Li).call(this);r&&(v(this,ee)!==n||Xe(this.options.enabled,v(this,ee))!==Xe(s.enabled,v(this,ee))||i!==v(this,Zt))&&Z(this,oe,Fi).call(this,i)}getOptimisticResult(e){const s=v(this,Be).getQueryCache().build(v(this,Be),e),n=this.createResult(s,e);return yp(this,n)&&(D(this,Ie,n),D(this,Zs,this.options),D(this,Es,v(this,ee).state)),n}getCurrentResult(){return v(this,Ie)}trackResult(e,s){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),s==null||s(r),r==="promise"&&!this.options.experimental_prefetchInRender&&v(this,It).status==="pending"&&v(this,It).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(e){v(this,sn).add(e)}getCurrentQuery(){return v(this,ee)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=v(this,Be).defaultQueryOptions(e),n=v(this,Be).getQueryCache().build(v(this,Be),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return Z(this,oe,En).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),v(this,Ie)))}createResult(e,s){var ce;const n=v(this,ee),r=this.options,i=v(this,Ie),o=v(this,Es),a=v(this,Zs),u=e!==n?e.state:v(this,Gn),{state:c}=e;let h={...c},d=!1,f;if(s._optimisticResults){const G=this.hasListeners(),me=!G&&Da(e,s),De=G&&Ua(e,n,s,r);(me||De)&&(h={...h,...qc(c.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:_,status:E}=h;f=h.data;let T=!1;if(s.placeholderData!==void 0&&f===void 0&&E==="pending"){let G;i!=null&&i.isPlaceholderData&&s.placeholderData===(a==null?void 0:a.placeholderData)?(G=i.data,T=!0):G=typeof s.placeholderData=="function"?s.placeholderData((ce=v(this,tn))==null?void 0:ce.state.data,v(this,tn)):s.placeholderData,G!==void 0&&(E="success",f=$i(i==null?void 0:i.data,G,s),d=!0)}if(s.select&&f!==void 0&&!T)if(i&&f===(o==null?void 0:o.data)&&s.select===v(this,zn))f=v(this,en);else try{D(this,zn,s.select),f=s.select(f),f=$i(i==null?void 0:i.data,f,s),D(this,en,f),D(this,Xt,null)}catch(G){D(this,Xt,G)}v(this,Xt)&&(y=v(this,Xt),f=v(this,en),_=Date.now(),E="error");const S=h.fetchStatus==="fetching",w=E==="pending",b=E==="error",L=w&&S,F=f!==void 0,X={status:E,fetchStatus:h.fetchStatus,isPending:w,isSuccess:E==="success",isError:b,isInitialLoading:L,isLoading:L,data:f,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!w,isLoadingError:b&&!F,isPaused:h.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&F,isStale:Ao(e,s),refetch:this.refetch,promise:v(this,It),isEnabled:Xe(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const G=xe=>{X.status==="error"?xe.reject(X.error):X.data!==void 0&&xe.resolve(X.data)},me=()=>{const xe=D(this,It,X.promise=Mi());G(xe)},De=v(this,It);switch(De.status){case"pending":e.queryHash===n.queryHash&&G(De);break;case"fulfilled":(X.status==="error"||X.data!==De.value)&&me();break;case"rejected":(X.status!=="error"||X.error!==De.reason)&&me();break}}return X}updateResult(){const e=v(this,Ie),s=this.createResult(v(this,ee),this.options);if(D(this,Es,v(this,ee).state),D(this,Zs,this.options),v(this,Es).data!==void 0&&D(this,tn,v(this,ee)),ji(s,e))return;D(this,Ie,s);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!v(this,sn).size)return!0;const o=new Set(i??v(this,sn));return this.options.throwOnError&&o.add("error"),Object.keys(v(this,Ie)).some(a=>{const l=a;return v(this,Ie)[l]!==e[l]&&o.has(l)})};Z(this,oe,Hc).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Z(this,oe,Ni).call(this)}},Be=new WeakMap,ee=new WeakMap,Gn=new WeakMap,Ie=new WeakMap,Es=new WeakMap,Zs=new WeakMap,It=new WeakMap,Xt=new WeakMap,zn=new WeakMap,en=new WeakMap,tn=new WeakMap,Ts=new WeakMap,Os=new WeakMap,Zt=new WeakMap,sn=new WeakMap,oe=new WeakSet,En=function(e){Z(this,oe,Hi).call(this);let s=v(this,ee).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Ye)),s},Ui=function(){Z(this,oe,Bi).call(this);const e=is(this.options.staleTime,v(this,ee));if(As||v(this,Ie).isStale||!xi(e))return;const n=Dc(v(this,Ie).dataUpdatedAt,e)+1;D(this,Ts,ms.setTimeout(()=>{v(this,Ie).isStale||this.updateResult()},n))},Li=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(v(this,ee)):this.options.refetchInterval)??!1},Fi=function(e){Z(this,oe,qi).call(this),D(this,Zt,e),!(As||Xe(this.options.enabled,v(this,ee))===!1||!xi(v(this,Zt))||v(this,Zt)===0)&&D(this,Os,ms.setInterval(()=>{(this.options.refetchIntervalInBackground||Po.isFocused())&&Z(this,oe,En).call(this)},v(this,Zt)))},Ni=function(){Z(this,oe,Ui).call(this),Z(this,oe,Fi).call(this,Z(this,oe,Li).call(this))},Bi=function(){v(this,Ts)&&(ms.clearTimeout(v(this,Ts)),D(this,Ts,void 0))},qi=function(){v(this,Os)&&(ms.clearInterval(v(this,Os)),D(this,Os,void 0))},Hi=function(){const e=v(this,Be).getQueryCache().build(v(this,Be),this.options);if(e===v(this,ee))return;const s=v(this,ee);D(this,ee,e),D(this,Gn,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Hc=function(e){Pe.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(v(this,Ie))}),v(this,Be).getQueryCache().notify({query:v(this,ee),type:"observerResultsUpdated"})})},ul);function mp(t,e){return Xe(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Da(t,e){return mp(t,e)||t.state.data!==void 0&&Wi(t,e,e.refetchOnMount)}function Wi(t,e,s){if(Xe(e.enabled,t)!==!1&&is(e.staleTime,t)!=="static"){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&Ao(t,e)}return!1}function Ua(t,e,s,n){return(t!==e||Xe(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Ao(t,s)}function Ao(t,e){return Xe(e.enabled,t)!==!1&&t.isStaleByTime(is(e.staleTime,t))}function yp(t,e){return!ji(t.getCurrentResult(),e)}function La(t){return{onFetch:(e,s)=>{var c,h,d,f,y;const n=e.options,r=(d=(h=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const E=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},T=Lc(e.options,e.fetchOptions),S=async(w,b,L)=>{if(_)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const B=(()=>{const me={client:e.client,queryKey:e.queryKey,pageParam:b,direction:L?"backward":"forward",meta:e.options.meta};return E(me),me})(),X=await T(B),{maxPages:ce}=e.options,G=L?cp:lp;return{pages:G(w.pages,X,ce),pageParams:G(w.pageParams,b,ce)}};if(r&&i.length){const w=r==="backward",b=w?_p:Fa,L={pages:i,pageParams:o},F=b(n,L);a=await S(L,F,w)}else{const w=t??i.length;do{const b=l===0?o[0]??n.initialPageParam:Fa(n,a);if(l>0&&b==null)break;a=await S(a,b),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=u}}}function Fa(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function _p(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var Jn,_t,$e,ks,wt,qt,hl,wp=(hl=class extends Bc{constructor(e){super();H(this,wt);H(this,Jn);H(this,_t);H(this,$e);H(this,ks);D(this,Jn,e.client),this.mutationId=e.mutationId,D(this,$e,e.mutationCache),D(this,_t,[]),this.state=e.state||bp(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){v(this,_t).includes(e)||(v(this,_t).push(e),this.clearGcTimeout(),v(this,$e).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){D(this,_t,v(this,_t).filter(s=>s!==e)),this.scheduleGc(),v(this,$e).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){v(this,_t).length||(this.state.status==="pending"?this.scheduleGc():v(this,$e).remove(this))}continue(){var e;return((e=v(this,ks))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,c,h,d,f,y,_,E,T,S,w,b,L,F,B,X,ce;const s=()=>{Z(this,wt,qt).call(this,{type:"continue"})},n={client:v(this,Jn),meta:this.options.meta,mutationKey:this.options.mutationKey};D(this,ks,Nc({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(G,me)=>{Z(this,wt,qt).call(this,{type:"failed",failureCount:G,error:me})},onPause:()=>{Z(this,wt,qt).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>v(this,$e).canRun(this)}));const r=this.state.status==="pending",i=!v(this,ks).canStart();try{if(r)s();else{Z(this,wt,qt).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(o=v(this,$e).config).onMutate)==null?void 0:a.call(o,e,this,n));const me=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));me!==this.state.context&&Z(this,wt,qt).call(this,{type:"pending",context:me,variables:e,isPaused:i})}const G=await v(this,ks).start();return await((h=(c=v(this,$e).config).onSuccess)==null?void 0:h.call(c,G,e,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,G,e,this.state.context,n)),await((_=(y=v(this,$e).config).onSettled)==null?void 0:_.call(y,G,null,this.state.variables,this.state.context,this,n)),await((T=(E=this.options).onSettled)==null?void 0:T.call(E,G,null,e,this.state.context,n)),Z(this,wt,qt).call(this,{type:"success",data:G}),G}catch(G){try{throw await((w=(S=v(this,$e).config).onError)==null?void 0:w.call(S,G,e,this.state.context,this,n)),await((L=(b=this.options).onError)==null?void 0:L.call(b,G,e,this.state.context,n)),await((B=(F=v(this,$e).config).onSettled)==null?void 0:B.call(F,void 0,G,this.state.variables,this.state.context,this,n)),await((ce=(X=this.options).onSettled)==null?void 0:ce.call(X,void 0,G,e,this.state.context,n)),G}finally{Z(this,wt,qt).call(this,{type:"error",error:G})}}finally{v(this,$e).runNext(this)}}},Jn=new WeakMap,_t=new WeakMap,$e=new WeakMap,ks=new WeakMap,wt=new WeakSet,qt=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Pe.batch(()=>{v(this,_t).forEach(n=>{n.onMutationUpdate(e)}),v(this,$e).notify({mutation:this,type:"updated",action:e})})},hl);function bp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $t,rt,Yn,dl,Wc=(dl=class extends er{constructor(s={}){super();H(this,$t);H(this,rt);H(this,Yn);this.config=s,D(this,$t,new Set),D(this,rt,new Map),D(this,Yn,0)}build(s,n,r){const i=new wp({client:s,mutationCache:this,mutationId:++ir(this,Yn)._,options:s.defaultMutationOptions(n),state:r});return this.add(i),i}add(s){v(this,$t).add(s);const n=cr(s);if(typeof n=="string"){const r=v(this,rt).get(n);r?r.push(s):v(this,rt).set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(v(this,$t).delete(s)){const n=cr(s);if(typeof n=="string"){const r=v(this,rt).get(n);if(r)if(r.length>1){const i=r.indexOf(s);i!==-1&&r.splice(i,1)}else r[0]===s&&v(this,rt).delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=cr(s);if(typeof n=="string"){const r=v(this,rt).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===s}else return!0}runNext(s){var r;const n=cr(s);if(typeof n=="string"){const i=(r=v(this,rt).get(n))==null?void 0:r.find(o=>o!==s&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pe.batch(()=>{v(this,$t).forEach(s=>{this.notify({type:"removed",mutation:s})}),v(this,$t).clear(),v(this,rt).clear()})}getAll(){return Array.from(v(this,$t))}find(s){const n={exact:!0,...s};return this.getAll().find(r=>xa(n,r))}findAll(s={}){return this.getAll().filter(n=>xa(s,n))}notify(s){Pe.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return Pe.batch(()=>Promise.all(s.map(n=>n.continue().catch(Ye))))}},$t=new WeakMap,rt=new WeakMap,Yn=new WeakMap,dl);function cr(t){var e;return(e=t.options.scope)==null?void 0:e.id}var bt,fl,Kc=(fl=class extends er{constructor(s={}){super();H(this,bt);this.config=s,D(this,bt,new Map)}build(s,n,r){const i=n.queryKey,o=n.queryHash??ko(i,n);let a=this.get(o);return a||(a=new gp({client:s,queryKey:i,queryHash:o,options:s.defaultQueryOptions(n),state:r,defaultOptions:s.getQueryDefaults(i)}),this.add(a)),a}add(s){v(this,bt).has(s.queryHash)||(v(this,bt).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=v(this,bt).get(s.queryHash);n&&(s.destroy(),n===s&&v(this,bt).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Pe.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return v(this,bt).get(s)}getAll(){return[...v(this,bt).values()]}find(s){const n={exact:!0,...s};return this.getAll().find(r=>Ra(n,r))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(r=>Ra(s,r)):n}notify(s){Pe.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){Pe.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Pe.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},bt=new WeakMap,fl),ve,es,ts,nn,rn,ss,on,an,pl,Sp=(pl=class{constructor(e={}){H(this,ve);H(this,es);H(this,ts);H(this,nn);H(this,rn);H(this,ss);H(this,on);H(this,an);D(this,ve,e.queryCache||new Kc),D(this,es,e.mutationCache||new Wc),D(this,ts,e.defaultOptions||{}),D(this,nn,new Map),D(this,rn,new Map),D(this,ss,0)}mount(){ir(this,ss)._++,v(this,ss)===1&&(D(this,on,Po.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,ve).onFocus())})),D(this,an,Cr.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,ve).onOnline())})))}unmount(){var e,s;ir(this,ss)._--,v(this,ss)===0&&((e=v(this,on))==null||e.call(this),D(this,on,void 0),(s=v(this,an))==null||s.call(this),D(this,an,void 0))}isFetching(e){return v(this,ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return v(this,es).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const s=this.defaultQueryOptions({queryKey:e});return(n=v(this,ve).get(s.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),n=v(this,ve).build(this,s),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(is(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(e){return v(this,ve).findAll(e).map(({queryKey:s,state:n})=>{const r=n.data;return[s,r]})}setQueryData(e,s,n){const r=this.defaultQueryOptions({queryKey:e}),i=v(this,ve).get(r.queryHash),o=i==null?void 0:i.state.data,a=ip(s,o);if(a!==void 0)return v(this,ve).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,s,n){return Pe.batch(()=>v(this,ve).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,s,n)]))}getQueryState(e){var n;const s=this.defaultQueryOptions({queryKey:e});return(n=v(this,ve).get(s.queryHash))==null?void 0:n.state}removeQueries(e){const s=v(this,ve);Pe.batch(()=>{s.findAll(e).forEach(n=>{s.remove(n)})})}resetQueries(e,s){const n=v(this,ve);return Pe.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const n={revert:!0,...s},r=Pe.batch(()=>v(this,ve).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ye).catch(Ye)}invalidateQueries(e,s={}){return Pe.batch(()=>(v(this,ve).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},r=Pe.batch(()=>v(this,ve).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ye)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ye)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const n=v(this,ve).build(this,s);return n.isStaleByTime(is(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ye).catch(Ye)}fetchInfiniteQuery(e){return e.behavior=La(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ye).catch(Ye)}ensureInfiniteQueryData(e){return e.behavior=La(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cr.isOnline()?v(this,es).resumePausedMutations():Promise.resolve()}getQueryCache(){return v(this,ve)}getMutationCache(){return v(this,es)}getDefaultOptions(){return v(this,ts)}setDefaultOptions(e){D(this,ts,e)}setQueryDefaults(e,s){v(this,nn).set(Wn(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...v(this,nn).values()],n={};return s.forEach(r=>{Kn(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,s){v(this,rn).set(Wn(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...v(this,rn).values()],n={};return s.forEach(r=>{Kn(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const s={...v(this,ts).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=ko(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Co&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...v(this,ts).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){v(this,ve).clear(),v(this,es).clear()}},ve=new WeakMap,es=new WeakMap,ts=new WeakMap,nn=new WeakMap,rn=new WeakMap,ss=new WeakMap,on=new WeakMap,an=new WeakMap,pl),Ep="VUE_QUERY_CLIENT";function Qc(t){const e=t?`:${t}`:"";return`${Ep}${e}`}function Na(t,e){Object.keys(t).forEach(s=>{t[s]=e[s]})}function Ki(t,e,s="",n=0){if(e){const r=e(t,s,n);if(r===void 0&&Se(t)||r!==void 0)return r}if(Array.isArray(t))return t.map((r,i)=>Ki(r,e,String(i),n+1));if(typeof t=="object"&&Op(t)){const r=Object.entries(t).map(([i,o])=>[i,Ki(o,e,i,n+1)]);return Object.fromEntries(r)}return t}function Tp(t,e){return Ki(t,e)}function J(t,e=!1){return Tp(t,(s,n,r)=>{if(r===1&&n==="queryKey")return J(s,!0);if(e&&kp(s))return J(s(),e);if(Se(s))return J(Ze(s),e)})}function Op(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function kp(t){return typeof t=="function"}function Vc(t=""){if(!qh())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=Qc(t),s=lt(e);if(!s)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return s}var Cp=class extends Kc{find(t){return super.find(J(t))}findAll(t={}){return super.findAll(J(t))}},Pp=class extends Wc{find(t){return super.find(J(t))}findAll(t={}){return super.findAll(J(t))}},Gc=class extends Sp{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new Cp,mutationCache:t.mutationCache||new Pp};super(e),this.isRestoring=Nl(!1)}isFetching(t={}){return super.isFetching(J(t))}isMutating(t={}){return super.isMutating(J(t))}getQueryData(t){return super.getQueryData(J(t))}ensureQueryData(t){return super.ensureQueryData(J(t))}getQueriesData(t){return super.getQueriesData(J(t))}setQueryData(t,e,s={}){return super.setQueryData(J(t),e,J(s))}setQueriesData(t,e,s={}){return super.setQueriesData(J(t),e,J(s))}getQueryState(t){return super.getQueryState(J(t))}removeQueries(t={}){return super.removeQueries(J(t))}resetQueries(t={},e={}){return super.resetQueries(J(t),J(e))}cancelQueries(t={},e={}){return super.cancelQueries(J(t),J(e))}invalidateQueries(t={},e={}){const s=J(t),n=J(e);if(super.invalidateQueries({...s,refetchType:"none"},n),s.refetchType==="none")return Promise.resolve();const r={...s,type:s.refetchType??s.type??"active"};return vo().then(()=>super.refetchQueries(r,n))}refetchQueries(t={},e={}){return super.refetchQueries(J(t),J(e))}fetchQuery(t){return super.fetchQuery(J(t))}prefetchQuery(t){return super.prefetchQuery(J(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(J(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(J(t))}setDefaultOptions(t){super.setDefaultOptions(J(t))}setQueryDefaults(t,e){super.setQueryDefaults(J(t),J(e))}getQueryDefaults(t){return super.getQueryDefaults(J(t))}setMutationDefaults(t,e){super.setMutationDefaults(J(t),J(e))}getMutationDefaults(t){return super.getMutationDefaults(J(t))}},Ap={install:(t,e={})=>{const s=Qc(e.queryClientKey);let n;if("queryClient"in e&&e.queryClient)n=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;n=new Gc(o)}As||n.mount();let r=()=>{};if(e.clientPersister){n.isRestoring&&(n.isRestoring.value=!0);const[o,a]=e.clientPersister(n);r=o,a.then(()=>{var l;n.isRestoring&&(n.isRestoring.value=!1),(l=e.clientPersisterOnSuccess)==null||l.call(e,n)})}const i=()=>{n.unmount(),r()};if(t.onUnmount)t.onUnmount(i);else{const o=t.unmount;t.unmount=function(){i(),o()}}t.provide(s,n)}};function Rp(t,e,s){const n=Vc(),r=He(()=>{var _;const f=J(e);typeof f.enabled=="function"&&(f.enabled=f.enabled());const y=n.defaultQueryOptions(f);return y._optimisticResults=(_=n.isRestoring)!=null&&_.value?"isRestoring":"optimistic",y}),i=new t(n,r.value),o=r.value.shallow?po(i.getCurrentResult()):dn(i.getCurrentResult());let a=()=>{};n.isRestoring&&ns(n.isRestoring,f=>{f||(a(),a=i.subscribe(y=>{Na(o,y)}))},{immediate:!0});const l=()=>{i.setOptions(r.value),Na(o,i.getCurrentResult())};ns(r,l),Iu(()=>{a()});const u=(...f)=>(l(),o.refetch(...f)),c=()=>new Promise((f,y)=>{let _=()=>{};const E=()=>{if(r.value.enabled!==!1){i.setOptions(r.value);const T=i.getOptimisticResult(r.value);T.isStale?(_(),i.fetchOptimistic(r.value).then(f,S=>{$a(r.value.throwOnError,[S,i.getCurrentQuery()])?y(S):f(i.getCurrentResult())})):(_(),f(T))}};E(),_=ns(r,E)});ns(()=>o.error,f=>{if(o.isError&&!o.isFetching&&$a(r.value.throwOnError,[f,i.getCurrentQuery()]))throw f});const h=r.value.shallow?Zu(o):mr(o),d=rh(h);for(const f in o)typeof o[f]=="function"&&(d[f]=o[f]);return d.suspense=c,d.refetch=u,d}function xp(t,e){return Rp(vp,t)}const jp="modulepreload",Ip=function(t){return"/"+t},Ba={},tr=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=Ip(l),l in Ba)return;Ba[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":jp,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},$p=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>tr(async()=>{const{default:n}=await Promise.resolve().then(()=>fn);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Ro extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class qa extends Ro{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ha extends Ro{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wa extends Ro{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qi||(Qi={}));var Mp=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Dp{constructor(e,{headers:s={},customFetch:n,region:r=Qi.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=$p(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Mp(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o,signal:a}=s;let l={},{region:u}=s;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let h;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:h,signal:a}).catch(E=>{throw E.name==="AbortError"?E:new qa(E)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Ha(d);if(!d.ok)throw new Wa(d);let y=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield d.json():y==="application/octet-stream"?_=yield d.blob():y==="text/event-stream"?_=d:y==="multipart/form-data"?_=yield d.formData():_=yield d.text(),{data:_,error:null,response:d}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new qa(r)}:{data:null,error:r,response:r instanceof Wa||r instanceof Ha?r.context:void 0}}})}}var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Up(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var qe={},xo={},Wr={},sr={},Kr={},Qr={},Lp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hn=Lp();const Fp=hn.fetch,zc=hn.fetch.bind(hn),Jc=hn.Headers,Np=hn.Request,Bp=hn.Response,fn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jc,Request:Np,Response:Bp,default:zc,fetch:Fp},Symbol.toStringTag,{value:"Module"})),qp=Up(fn);var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});let Hp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vr.default=Hp;var Yc=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});const Wp=Yc(qp),Kp=Yc(Vr);let Qp=class{constructor(e){var s,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Wp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,h=null,d=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const S=await i.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=S:h=JSON.parse(S))}const E=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),T=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");E&&T&&T.length>1&&(d=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,f=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const E=await i.text();try{c=JSON.parse(E),Array.isArray(c)&&i.status===404&&(h=[],c=null,f=200,y="OK")}catch{i.status===404&&E===""?(f=204,y="No Content"):c={message:E}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,y="OK"),c&&this.shouldThrowOnError)throw new Kp.default(c)}return{error:c,data:h,count:d,status:f,statusText:y}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}returns(){return this}overrideTypes(){return this}};Qr.default=Qp;var Vp=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});const Gp=Vp(Qr);let zp=class extends Gp.default{select(e){let s=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Kr.default=zp;var Jp=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sr,"__esModule",{value:!0});const Yp=Jp(Kr);let Xp=class extends Yp.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};sr.default=Xp;var Zp=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});const wn=Zp(sr);let eg=class{constructor(e,{headers:s={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(s),this.schema=n,this.fetch=r}select(e,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new wn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:n=!0}={}){var r;const i="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new wn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new wn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var n;const r="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new wn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var s;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new wn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Wr.default=eg;var Xc=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xo,"__esModule",{value:!0});const tg=Xc(Wr),sg=Xc(sr);let ng=class Zc{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(s),this.schemaName=n,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new tg.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:r=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||r?(a=n?"HEAD":"GET",Object.entries(s).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{l.searchParams.append(h,d)})):(a="POST",u=s);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new sg.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};xo.default=ng;var pn=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qe,"__esModule",{value:!0});qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const eu=pn(xo);qe.PostgrestClient=eu.default;const tu=pn(Wr);qe.PostgrestQueryBuilder=tu.default;const su=pn(sr);qe.PostgrestFilterBuilder=su.default;const nu=pn(Kr);qe.PostgrestTransformBuilder=nu.default;const ru=pn(Qr);qe.PostgrestBuilder=ru.default;const iu=pn(Vr);qe.PostgrestError=iu.default;var rg=qe.default={PostgrestClient:eu.default,PostgrestQueryBuilder:tu.default,PostgrestFilterBuilder:su.default,PostgrestTransformBuilder:nu.default,PostgrestBuilder:ru.default,PostgrestError:iu.default};const{PostgrestClient:ig,PostgrestQueryBuilder:vy,PostgrestFilterBuilder:my,PostgrestTransformBuilder:yy,PostgrestBuilder:_y,PostgrestError:wy}=rg;class og{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,r=parseInt(n.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ag="2.15.5",lg=`realtime-js/${ag}`,cg="1.0.0",Vi=1e4,ug=1e3,hg=100;var $n;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($n||($n={}));var be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(be||(be={}));var it;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(it||(it={}));var Gi;(function(t){t.websocket="websocket"})(Gi||(Gi={}));var vs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vs||(vs={}));class dg{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ou{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(de||(de={}));const Ka=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=fg(o,t,e,r),i),{})},fg=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?au(i,o):zi(o)},au=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return mg(e,s)}switch(t){case de.bool:return pg(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return gg(e);case de.json:case de.jsonb:return vg(e);case de.timestamp:return yg(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return zi(e);default:return zi(e)}},zi=t=>t,pg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},gg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mg=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>au(e,a))}return t},yg=t=>typeof t=="string"?t.replace(" ","T"):t,lu=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class hi{constructor(e,s,n={},r=Vi){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qa;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qa||(Qa={}));class Mn{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mn.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Mn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Mn.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(E=>E.presence_ref),f=h.map(E=>E.presence_ref),y=c.filter(E=>f.indexOf(E.presence_ref)<0),_=h.filter(E=>d.indexOf(E.presence_ref)<0);y.length>0&&(a[u]=y),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Va;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Va||(Va={}));var Dn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Dn||(Dn={}));var jt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jt||(jt={}));class jo{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new hi(this,it.join,this.params,this.timeout),this.rejoinTimer=new ou(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Mn(this),this.broadcastEndpointURL=lu(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==be.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[Dn.PRESENCE]&&this.bindings[Dn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(jt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(jt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){e==null||e(jt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,T=[];for(let S=0;S<E;S++){const w=_[S],{filter:{event:b,schema:L,table:F,filter:B}}=w,X=f&&f[S];if(X&&X.event===b&&X.schema===L&&X.table===F&&X.filter===B)T.push(Object.assign(Object.assign({},w),{id:X.id}));else{this.unsubscribe(),this.state=be.errored,e==null||e(jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(jt.SUBSCRIBED);return}}).receive("error",f=>{this.state=be.errored,e==null||e(jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===be.joined&&e===Dn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=be.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new hi(this,it.leave,{},e),n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=be.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new hi(this,e,s,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=it;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,s,n);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var y,_,E;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((E=(_=f.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var y,_,E,T,S,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,L=(y=f.filter)===null||y===void 0?void 0:y.event;return b&&((_=s.ids)===null||_===void 0?void 0:_.includes(b))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((E=s.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const b=(S=(T=f==null?void 0:f.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return b==="*"||b===((w=s==null?void 0:s.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:_,table:E,commit_timestamp:T,type:S,errors:w}=y;d=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:T,eventType:S,new:{},old:{},errors:w}),this._getPayloadRecords(y))}f.callback(d,n)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jo.isEqual(r.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(it.close,{},e)}_onError(e){this._on(it.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ka(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ka(e.columns,e.old_record)),s}}const di=()=>{},ur={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_g=[1e3,2e3,5e3,1e4],wg=1e4,bg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sg{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vi,this.transport=null,this.heartbeatIntervalMs=ur.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=di,this.ref=0,this.reconnectTimer=null,this.logger=di,this.conn=null,this.sendBuffer=[],this.serializer=new dg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>tr(async()=>{const{default:a}=await Promise.resolve().then(()=>fn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Gi.websocket}`,this.httpEndpoint=lu(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=og.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return vs.Connecting;case $n.open:return vs.Open;case $n.closing:return vs.Closing;default:return vs.Closed}}isConnected(){return this.connectionState()===vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new jo(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ug,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ur.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${r} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(r,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(it.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([bg],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const r={access_token:s,version:lg};s&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(it.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ou(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ur.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,r,i,o,a,l,u,c;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Vi,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:ur.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:di,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>_g[h-1]||wg,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,d)=>d(JSON.stringify(h)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Io extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Eg extends Io{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ji extends Io{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Tg=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const cu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>tr(async()=>{const{default:n}=await Promise.resolve().then(()=>fn);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Og=()=>Tg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tr(()=>Promise.resolve().then(()=>fn),void 0)).Response:Response}),Yi=t=>{if(Array.isArray(t))return t.map(s=>Yi(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Yi(n)}),e},kg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var xs=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const fi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cg=(t,e,s)=>xs(void 0,void 0,void 0,function*(){const n=yield Og();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new Eg(fi(r),i,o))}).catch(r=>{e(new Ji(fi(r),r))}):e(new Ji(fi(t),t))}),Pg=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?r:(kg(n)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(n)):r.body=n,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),s))};function nr(t,e,s,n,r,i){return xs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Pg(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Cg(l,a,n))})})}function Pr(t,e,s,n){return xs(this,void 0,void 0,function*(){return nr(t,"GET",e,s,n)})}function yt(t,e,s,n,r){return xs(this,void 0,void 0,function*(){return nr(t,"POST",e,n,r,s)})}function Xi(t,e,s,n,r){return xs(this,void 0,void 0,function*(){return nr(t,"PUT",e,n,r,s)})}function Ag(t,e,s,n){return xs(this,void 0,void 0,function*(){return nr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function uu(t,e,s,n,r){return xs(this,void 0,void 0,function*(){return nr(t,"DELETE",e,n,r,s)})}var Rg=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class xg{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return Rg(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_e(e))return{data:null,error:e};throw e}})}}var jg=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Ig{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new xg(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return jg(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_e(e))return{data:null,error:e};throw e}})}}var Ne=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const $g={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ga={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mg{constructor(e,s={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=n,this.fetch=cu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,n,r){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ga),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield(e=="PUT"?Xi:yt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_e(i))return{data:null,error:i};throw i}})}upload(e,s,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Ga.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield Xi(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Io("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}update(e,s,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}copy(e,s,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield yt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return Ne(this,void 0,void 0,function*(){try{const r=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}download(e,s){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Pr(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Ig(l,this.shouldThrowOnError)}info(e){return Ne(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Pr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Yi(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}exists(e){return Ne(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Ag(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n)&&n instanceof Ji){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}list(e,s,n){return Ne(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},$g),s),{prefix:e||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}listV2(e,s){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Dg="2.12.2",Ug={"X-Client-Info":`storage-js/${Dg}`};var Ds=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Lg{constructor(e,s={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Ug),s),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ds(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_e(e))return{data:null,error:e};throw e}})}getBucket(e){return Ds(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ds(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return Ds(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ds(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ds(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}}class Fg extends Lg{constructor(e,s={},n,r){super(e,s,n,r)}from(e){return new Mg(this.url,this.headers,e,this.fetch)}}const Ng="2.58.0";let Tn="";typeof Deno<"u"?Tn="deno":typeof document<"u"?Tn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tn="react-native":Tn="node";const Bg={"X-Client-Info":`supabase-js-${Tn}/${Ng}`},qg={headers:Bg},Hg={schema:"public"},Wg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kg={};var Qg=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Vg=t=>{let e;return t?e=t:typeof fetch>"u"?e=zc:e=fetch,(...s)=>e(...s)},Gg=()=>typeof Headers>"u"?Jc:Headers,zg=(t,e,s)=>{const n=Vg(s),r=Gg();return(i,o)=>Qg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Jg=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function Yg(t){return t.endsWith("/")?t:t+"/"}function Xg(t,e){var s,n;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Jg(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function Zg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yg(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hu="2.72.0",Hs=30*1e3,Zi=3,pi=Zi*Hs,ev="http://localhost:9999",tv="supabase.auth.token",sv={"X-Client-Info":`gotrue-js/${hu}`},eo="X-Supabase-Api-Version",du={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rv=10*60*1e3;class $o extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class iv extends $o{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function ov(t){return V(t)&&t.name==="AuthApiError"}class fu extends $o{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class cs extends $o{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class Ht extends cs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function av(t){return V(t)&&t.name==="AuthSessionMissingError"}class bn extends cs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hr extends cs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dr extends cs{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lv(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class za extends cs{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class to extends cs{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function gi(t){return V(t)&&t.name==="AuthRetryableFetchError"}class Ja extends cs{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class so extends cs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ya=` 	
\r=`.split(""),cv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ya.length;e+=1)t[Ya[e].charCodeAt(0)]=-2;for(let e=0;e<Ar.length;e+=1)t[Ar[e].charCodeAt(0)]=e;return t})();function Xa(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Ar[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Ar[n]),e.queuedBits-=6}}function pu(t,e,s){const n=cv[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Za(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{dv(o,n,s)};for(let o=0;o<t.length;o+=1)pu(t.charCodeAt(o),r,i);return e.join("")}function uv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hv(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}uv(n,e)}}function dv(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function fv(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)pu(t.charCodeAt(r),s,n);return new Uint8Array(e)}function pv(t){const e=[];return hv(t,s=>e.push(s)),new Uint8Array(e)}function gv(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};return t.forEach(r=>Xa(r,s,n)),Xa(null,s,n),e.join("")}function vv(t){return Math.round(Date.now()/1e3)+t}function mv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},gu=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function yv(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const vu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>tr(async()=>{const{default:n}=await Promise.resolve().then(()=>fn);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},_v=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ws=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},fs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Bt=async(t,e)=>{await t.removeItem(e)};class Gr{constructor(){this.promise=new Gr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Gr.promiseConstructor=Promise;function vi(t){const e=t.split(".");if(e.length!==3)throw new so("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!nv.test(e[n]))throw new so("JWT not in base64url format");return{header:JSON.parse(Za(e[0])),payload:JSON.parse(Za(e[1])),signature:fv(e[2]),raw:{header:e[0],payload:e[1]}}}async function wv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bv(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function Sv(t){return("0"+t.toString(16)).substr(-2)}function Ev(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Sv).join("")}async function Tv(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Ov(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Tv(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(t,e,s=!1){const n=Ev();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Ws(t,`${e}-code-verifier`,r);const i=await Ov(n);return[i,n===i?"plain":"s256"]}const kv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cv(t){const e=t.headers.get(eo);if(!e||!e.match(kv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Pv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Av(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ls(t){if(!Rv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mi(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function el(t){return JSON.parse(JSON.stringify(t))}var xv=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const gs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jv=[502,503,504];async function tl(t){var e;if(!_v(t))throw new to(gs(t),0);if(jv.includes(t.status))throw new to(gs(t),t.status);let s;try{s=await t.json()}catch(i){throw new fu(gs(i),i)}let n;const r=Cv(t);if(r&&r.getTime()>=du["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Ja(gs(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ht}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ja(gs(s),t.status,s.weak_password.reasons);throw new iv(gs(s),t.status||500,n)}const Iv=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function Y(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[eo]||(i[eo]=du["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $v(t,e,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function $v(t,e,s,n,r,i){const o=Iv(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new to(gs(l),0)}if(a.ok||await tl(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await tl(l)}}function gt(t){var e;let s=null;Lv(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=vv(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function sl(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Mv(t){return{data:t,error:null}}function Dv(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=xv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Uv(t){return t}function Lv(t){return t.access_token&&t.refresh_token&&t.expires_in}const yi=["global","local","others"];var Fv=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class Nv{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=vu(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=yi[0]){if(yi.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yi.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Gt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=Fv(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Dv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(V(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Uv});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);u[`${E}Page`]=_}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(V(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ls(e);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ls(e);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Gt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){Ls(e);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Gt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ls(e.userId);try{const{data:s,error:n}=await Y(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(V(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ls(e.userId),Ls(e.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}}function nl(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Bv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fs={debug:!!(globalThis&&gu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qv extends mu{}async function Hv(t,e,s){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function yu(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Wv(t){return parseInt(t,16)}function Kv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Qv(t){var e;const{chainId:s,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:d}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=yu(t.address),y=c?`${c}://${n}`:n,_=t.statement?`${t.statement}
`:"",E=`${y} wants you to sign in with your Ethereum account:
${f}

${_}`;let T=`URI: ${h}
Version: ${d}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(T+=`
Expiration Time: ${r.toISOString()}`),a&&(T+=`
Not Before: ${a.toISOString()}`),l&&(T+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);S+=`
- ${w}`}T+=S}return`${E}
${T}`}Bv();const Vv={url:ev,storageKey:tv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rl(t,e,s){return await s()}const Ns={};class Qn{constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qn.nextInstanceID,Qn.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Vv),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Nv({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=vu(r.fetch),this.lock=r.lock||rl,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ze()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Hv:this.lock=rl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:gu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nl(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=nl(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hu}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=yv(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),ze()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lv(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return V(s)?{error:s}:{error:new fu("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:gt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await Us(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:y},xform:gt})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:gt})}else throw new hr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sl})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sl})}else throw new hr("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,r,i,o,a,l,u,c,h,d;let f,y;if("message"in e)f=e.message,y=e.signature;else{const{chain:_,wallet:E,statement:T,options:S}=e;let w;if(ze())if(typeof E=="object")w=E;else{const ce=window;if("ethereum"in ce&&typeof ce.ethereum=="object"&&"request"in ce.ethereum&&typeof ce.ethereum.request=="function")w=ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=E}const b=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href),L=await w.request({method:"eth_requestAccounts"}).then(ce=>ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=yu(L[0]);let B=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!B){const ce=await w.request({method:"eth_chainId"});B=Wv(ce)}const X={domain:b.host,address:F,statement:T,uri:b.href,version:"1",chainId:B,nonce:(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=S==null?void 0:S.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=Qv(X),y=await w.request({method:"personal_sign",params:[Kv(f),F]})}try{const{data:_,error:E}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:gt});if(E)throw E;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new bn}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:E})}catch(_){if(V(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var s,n,r,i,o,a,l,u,c,h,d,f;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:E,wallet:T,statement:S,options:w}=e;let b;if(ze())if(typeof T=="object")b=T;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))b=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=T}const L=new URL((s=w==null?void 0:w.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in b&&b.signIn){const F=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),S?{statement:S}:null));let B;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")B=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)B=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)y=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),_=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${L.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(r=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const F=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=F}}try{const{data:E,error:T}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:gv(_)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gt});if(T)throw T;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new bn}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:T})}catch(E){if(V(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const s=await fs(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gt});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:gt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new bn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Us(this.storage,this.storageKey));const{error:h}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new hr("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Us(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Mv})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Ht;const{error:r}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await Y(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await Y(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new hr("You must provide either an email or phone number and a type")}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<pi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await fs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=mi()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gt}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(s){if(V(s))return av(s)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Ht;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Us(this.storage,this.storageKey));const{data:u,error:c}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Gt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=vi(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(V(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ht;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!ze())throw new dr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new za("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new za("No code detected.");const{data:S,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new dr("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const f=d-c;f*1e3<=Hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const y=d-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,c);const{data:_,error:E}=await this._getUser(i);if(E)throw E;const T={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(n){if(V(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ov(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=mv(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Us(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return ze()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(V(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await bv(async r=>(r>0&&await wv(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&gi(i)&&Date.now()+o-n<Hs})}catch(n){if(this._debug(s,"error",n),V(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),ze()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await fs(this.storage,this.storageKey);if(r&&this.userStorage){let o=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await Ws(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:mi()}else if(r&&!r.user&&!r.user){const o=await fs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await Bt(this.storage,this.storageKey+"-user"),await Ws(this.storage,this.storageKey,r)):r.user=mi()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<pi;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${pi}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),gi(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Gr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),V(i)){const o={session:null,error:i};return gi(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Ws(this.userStorage,this.storageKey+"-user",{user:s.user});const r=Object.assign({},s);delete r.user;const i=el(r);await Ws(this.storage,this.storageKey,i)}else{const r=el(s);await Ws(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/Hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Hs}ms, refresh threshold is ${Zi} ticks`),r<=Zi&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Us(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(V(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(V(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=vi(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+rv>r)return n;const{data:i,error:o}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:f,error:y}=await this.getSession();if(y||!f.session)return{data:null,error:y};n=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=vi(n);s!=null&&s.allowExpired||Pv(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const c=Av(r.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,pv(`${a}.${l}`)))throw new so("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}Qn.nextInstanceID=0;const Gv=Qn;class zv extends Gv{constructor(e){super(e)}}var Jv=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Yv{constructor(e,s,n){var r,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=Zg(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Hg,realtime:Kg,auth:Object.assign(Object.assign({},Wg),{storageKey:l}),global:qg},c=Xg(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=zg(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new ig(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Fg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Dp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Jv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zv({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Sg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xv=(t,e,s)=>new Yv(t,e,s);function Zv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Zv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _u=Symbol.for("y2kfund.supabase");function em(){const t=lt(_u,null);if(!t)throw new Error("[@y2kfund/core] Supabase client not found. Did you install createCore()?");return t}async function tm(t){const{supabaseUrl:e,supabaseAnon:s,supabaseClient:n,query:r}=t,i=n??Xv(e,s),o=new Gc({defaultOptions:{queries:{staleTime:(r==null?void 0:r.staleTime)??6e4,gcTime:(r==null?void 0:r.gcTime)??864e5,refetchOnWindowFocus:(r==null?void 0:r.refetchOnWindowFocus)??!1,refetchOnReconnect:(r==null?void 0:r.refetchOnReconnect)??!0}}});return{install(a){a.provide(_u,i),a.use(Ap,{queryClient:o})}}}function sm(t){const e=em(),s=["nlvMargin",t],n=Vc(),r=xp({queryKey:s,queryFn:async()=>{const{data:a,error:l}=await e.schema("hf").rpc("get_nlv_margin",{p_limit:10});if(l)throw l;return a||[]},staleTime:6e4}),i=e.channel("netliquidation_all").on("postgres_changes",{schema:"hf",table:"netliquidation",event:"*"},()=>n.invalidateQueries({queryKey:s})).subscribe(),o=e.channel("maintenance_margin_all").on("postgres_changes",{schema:"hf",table:"maintenance_margin",event:"*"},()=>n.invalidateQueries({queryKey:s})).subscribe();return{...r,_cleanup:()=>{var a,l;(a=i==null?void 0:i.unsubscribe)==null||a.call(i),(l=o==null?void 0:o.unsubscribe)==null||l.call(o)}}}const nm={class:"dashboard-container"},rm={key:0,class:"loading"},im={key:1,class:"error"},om={key:2},am={class:"metric-block"},lm={key:0,class:"metric-row all-accounts-row"},cm={class:"row-header"},um={class:"row-content"},hm={class:"metric-column"},dm={class:"metric-value"},fm={class:"metric-value"},pm={class:"metric-column"},gm={class:"metric-value"},vm={class:"metric-value"},mm={class:"row-header-button-container"},ym=["onClick"],_m=["onClick"],wm={class:"row-content"},bm={class:"metric-column"},Sm={class:"metric-value"},Em={class:"metric-value"},Tm={class:"metric-column"},Om={class:"metric-value"},km={class:"metric-value"},Cm={key:0,class:"calculation-breakdown"},Pm={class:"breakdown-columns"},Am={class:"breakdown-stage stage-1"},Rm={class:"stage-item"},xm={class:"item-value"},jm={class:"formula"},Im={class:"stage-item"},$m={class:"item-value"},Mm={class:"formula"},Dm={class:"stage-item"},Um={class:"item-value"},Lm={class:"formula"},Fm={class:"stage-item"},Nm={class:"item-value"},Bm={class:"formula"},qm={class:"breakdown-stage stage-2"},Hm={class:"stage-item"},Wm={class:"item-value"},Km={class:"formula"},Qm={class:"stage-item"},Vm={class:"item-value"},Gm={class:"formula"},zm={class:"stage-item"},Jm={class:"item-value"},Ym={class:"formula"},Xm={class:"stage-item"},Zm={class:"item-value"},ey={class:"formula"},ty=_o({__name:"Margin",setup(t){const e=sm(1e4),s=dn({});function n(u){return u==null?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u)}Yl(()=>{e._cleanup&&e._cleanup()});function r(u,c,h){const d=1-h,f=1-c,_=1-d*f;return u/_}const i=He(()=>e.data.value?e.data.value.map(u=>{const c=r(u.nlv_val,.3,.15),h=r(u.nlv_val,.3,.1),d=c*30/100,f=h*30/100,y=d-u.maintenance_val,_=f-u.maintenance_val,E=y*100/30,T=_*100/30;return{...u,maxGmvNlvSide:c,maxGmvMaintenanceSide:h,mkNlvSide:d,mkMaintenanceSide:f,maintnanceMarginHeadroomNlvSide:y,maintnanceMarginHeadroomMaintenanceSide:_,addlGmvAllowedNlvSide:E,addlGmvAllowedMaintenanceSide:T}}):[]),o=He(()=>{if(!i.value)return null;const u=i.value.reduce((f,y)=>f+(y.nlv_val||0),0),c=i.value.reduce((f,y)=>f+(y.maintenance_val||0),0),h=i.value.reduce((f,y)=>f+(y.addlGmvAllowedNlvSide||0),0),d=i.value.reduce((f,y)=>f+(y.addlGmvAllowedMaintenanceSide||0),0);return{totalNlv:u,totalMaintenance:c,totalAddlGmvToStopReducing:h,totalAddlGmvToStartReducing:d}});function a(u){s[u]=!s[u]}function l(u){const c=new URL(window.location.href);c.searchParams.set("all_cts_clientId","Client "+u.toString()),window.history.replaceState({},"",c.toString())}return(u,c)=>{var h;return mt(),At("div",nm,[Ze(e).isLoading.value?(mt(),At("div",rm,[...c[0]||(c[0]=[j("div",{class:"loading-spinner"},null,-1),j("p",null,"Loading the latest metrics...",-1)])])):Ze(e).isError.value?(mt(),At("div",im,[c[1]||(c[1]=j("h2",null,"Error Loading Data",-1)),c[2]||(c[2]=j("p",null,"An error occurred while fetching the metrics:",-1)),j("pre",null,ye(Ze(e).error.value),1)])):Ze(e).isSuccess.value?(mt(),At("div",om,[j("div",am,[c[22]||(c[22]=j("div",{class:"block-header"},[j("h2",null,"Margin")],-1)),o.value?(mt(),At("div",lm,[j("div",cm,"All Accounts ("+ye(((h=Ze(e).data.value)==null?void 0:h.length)||0)+")",1),j("div",um,[j("div",hm,[c[3]||(c[3]=j("div",{class:"metric-label"},"Net liquidation value",-1)),j("div",dm,ye(n(o.value.totalNlv)),1),c[4]||(c[4]=j("div",{class:"metric-label"},"Add'l GMV to stop-reducing cap",-1)),j("div",fm,ye(n(o.value.totalAddlGmvToStopReducing)),1)]),j("div",pm,[c[5]||(c[5]=j("div",{class:"metric-label"},"Maintenance margin",-1)),j("div",gm,ye(n(o.value.totalMaintenance)),1),c[6]||(c[6]=j("div",{class:"metric-label"},"Add'l GMV to start-reducing cap",-1)),j("div",vm,ye(n(o.value.totalAddlGmvToStartReducing)),1)])])])):ii("",!0),(mt(!0),At(St,null,Ih(i.value,(d,f)=>(mt(),At("div",{key:d.nlv_id,class:"metric-row"},[j("div",mm,[j("div",{class:"row-header",onClick:y=>l(d.nlv_internal_account_id)},"Client"+ye(f+1),9,ym),j("button",{class:Mr(["row-status",d.addlGmvAllowedNlvSide<0&&d.addlGmvAllowedMaintenanceSide<0?"stage-2-exhausted":d.addlGmvAllowedNlvSide<0?"stage-1-exhausted":"ok"]),onClick:y=>a(d.nlv_id)},ye(d.addlGmvAllowedNlvSide<0&&d.addlGmvAllowedMaintenanceSide<0?"Stage 2 exhausted":d.addlGmvAllowedNlvSide<0?"Stage 1 exhausted":"OK"),11,_m)]),j("div",wm,[j("div",bm,[c[7]||(c[7]=j("div",{class:"metric-label"},"NLV",-1)),j("div",Sm,ye(n(d.nlv_val)),1),c[8]||(c[8]=j("div",{class:"metric-label"},"Add'l GMV to stop-reducing cap",-1)),j("div",Em,ye(n(d.addlGmvAllowedNlvSide)),1)]),j("div",Tm,[c[9]||(c[9]=j("div",{class:"metric-label"},"Maintenance margin",-1)),j("div",Om,ye(n(d.maintenance_val)),1),c[10]||(c[10]=j("div",{class:"metric-label"},"Add'l GMV to start-reducing cap",-1)),j("div",km,ye(n(d.addlGmvAllowedMaintenanceSide)),1)])]),s[d.nlv_id]?(mt(),At("div",Cm,[c[21]||(c[21]=j("div",{class:"breakdown-header"},[j("div",null,"Calculation breakdown:"),j("div",null,"Assumptions: maintenance margin (m) = 30%")],-1)),j("div",Pm,[j("div",Am,[c[15]||(c[15]=j("div",{class:"stage-header"},"Stage-1 (drop d = 15%)",-1)),j("div",Rm,[c[11]||(c[11]=j("div",{class:"item-label"},"Max GMV that survives stop-adding threshold",-1)),j("div",xm,[j("span",jm,"Gmax = NLV / [ 1 - (1 - d) x (1 - m) ] = "+ye(n(d.maxGmvNlvSide)),1)])]),j("div",Im,[c[12]||(c[12]=j("div",{class:"item-label"},"Max Maintenance margin (Before drop) to survive drop",-1)),j("div",$m,[j("span",Mm,"Mk = Gmax x m = "+ye(n(d.mkNlvSide)),1)])]),j("div",Dm,[c[13]||(c[13]=j("div",{class:"item-label"},"Maintenance margin headroom",-1)),j("div",Um,[j("span",Lm,"Mk - M = "+ye(n(d.maintnanceMarginHeadroomNlvSide)),1)])]),j("div",Fm,[c[14]||(c[14]=j("div",{class:"item-label"},"Add'l GMV allowed",-1)),j("div",Nm,[j("span",Bm,"(Mk - M) / m = "+ye(n(d.addlGmvAllowedNlvSide)),1)])])]),j("div",qm,[c[20]||(c[20]=j("div",{class:"stage-header"},"Stage-2 (drop d = 10%)",-1)),j("div",Hm,[c[16]||(c[16]=j("div",{class:"item-label"},"Max GMV that survives start-reducing threshold",-1)),j("div",Wm,[j("span",Km,"Gmax = NLV / [ 1 - (1 - d) x (1 - m) ] = "+ye(n(d.maxGmvMaintenanceSide)),1)])]),j("div",Qm,[c[17]||(c[17]=j("div",{class:"item-label"},"Max Maintenance margin (Before drop) to survive drop",-1)),j("div",Vm,[j("span",Gm,"Mk = Gmax x m = "+ye(n(d.mkMaintenanceSide)),1)])]),j("div",zm,[c[18]||(c[18]=j("div",{class:"item-label"},"Maintenance margin headroom",-1)),j("div",Jm,[j("span",Ym,"Mk - M = "+ye(n(d.maintnanceMarginHeadroomMaintenanceSide)),1)])]),j("div",Xm,[c[19]||(c[19]=j("div",{class:"item-label"},"Add'l GMV allowed",-1)),j("div",Zm,[j("span",ey,"(Mk - M) / m = "+ye(n(d.addlGmvAllowedMaintenanceSide)),1)])])])])])):ii("",!0)]))),128))])])):ii("",!0)])}}}),sy=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},ny=sy(ty,[["__scopeId","data-v-0e27e7cd"]]),ry=[{path:"/",name:"Home",component:ny}],iy=ep({history:Af(),routes:ry});async function oy(){const s=await tm({supabaseUrl:void 0,supabaseAnon:void 0,query:{staleTime:6e4,gcTime:864e5,refetchOnWindowFocus:!1}});Gd(Yd).use(iy).use(s).mount("#app")}oy();
